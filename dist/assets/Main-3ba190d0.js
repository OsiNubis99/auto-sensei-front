import{_ as fe,r as v,A as ot,L as he,b as pe,e as g,o,c as s,N as a,h as A,i as B,F as lt,J as xe,Q as j,f as e,n as m,K as r,k as be,v as ye,l as at,O as st,U as _e,M as Ce,u as ke,w as Ae,C as Me}from"./index-bfffe104.js";import{u as Ve}from"./auctions-aa24c0a4.js";import{M as He}from"./ModalAcceptAution-29a50892.js";import{M as ve}from"./modalAcceptAution-e4a5bb3a.js";import{M as ge}from"./modalReview-3d7e173f.js";import{M as we}from"./modalViewDetails-0ac63b15.js";import{M as Le}from"./ModalReview-5208f25c.js";import{M as De}from"./ModalViewDetails-2aecdf0b.js";import{C as Se,a as Be,H as Ze}from"./HeaderOptionesSeller-0eb7d44a.js";import{B as Ee}from"./Basic-d13b3eb7.js";import{S as Fe,b as je,N as ze}from"./navigation-c0177cc4.js";import{P as Te,S as Re,A as Oe}from"./scrollbar-7634f2f2.js";import{_ as Ne}from"./Spin-9f58a9b3.js";import{S as Pe}from"./ScreenCreateAution-2e9c9d74.js";import{S as Ge}from"./SorBy-90446ae9.js";import{S as Ie}from"./ScrrenNoSorbySeller-2159d817.js";import{a as me}from"./packPhotos-a2d18d9e.js";import"./moment-fbc5633a.js";import"./pspdfkit-f9915a14.js";import"./modalBids-7ac8571e.js";const qe={components:{Swiper:Fe,SwiperSlide:je},props:{auction:{type:Object},changeLayouts:{type:Boolean},decline:{type:Function},cancelAution:{type:Function},acceptAution:{type:Function}},setup(D){const i=v(D.auction),w=v(D.changeLayouts),t=v(ot(()=>"https://s3.us-east-2.amazonaws.com/files.autosensei.ca/")),Z=we(),z=ve(),E=ge(),T=he();function y(h,_){return!h||!_?0:new Date(new Date(h).getTime()+_*1e3*60).valueOf()-Date.now()}function F(h){return h?new Date(h)-Date.now():0}const M=(h,_)=>{console.log("auction",h),console.log("option",_),D.decline(h,_)},x=()=>{D.cancelAution()},C=()=>{D.acceptAution()},f=()=>{T.userData.address?z.openModal({isActive:!0,data:i}):st("You need to add your address in order to create an auction. Please update your profile",{autoClose:4e3,type:"error"})};return pe(()=>{}),{modules:[ze,Te,Re,Oe],auction:i,bucket:t,changeLayouts:w,timeToEnd:y,declineAution:M,timeToStart:F,cancelAution:x,acceptAution:C,statusModal:z,statusModalView:Z,statusReview:E,openModal:f}}},Ue={key:0,class:"md:font-semibold text-xs md:text-base fixed left-2 z-50 text-white bg-[#05A54B] rounded-lg ml-2 mt-2 px-4 py-1"},Ke={key:1,class:"md:font-semibold text-xs md:text-base fixed left-2 z-50 bg-[#FBDB17] rounded-lg ml-2 mt-2 px-4 py-1"},Ye={key:2,class:"md:font-semibold text-xs md:text-base fixed left-2 z-50 text-white bg-[#0B1107] rounded-lg ml-2 mt-2 px-4 py-1"},Je={key:3,class:"md:font-semibold text-xs md:text-base fixed left-2 z-50 bg-[#0B1107] text-white rounded-lg ml-2 mt-2 px-4 py-1"},Qe={key:4,class:"md:font-semibold text-xs md:text-base absolute top-0 left-0 z-50 bg-[#fff] rounded-lg ml-2 mt-2 px-4 py-1"},We={key:5,class:"md:font-semibold text-xs md:text-base text-white z-50 fixed left-2 bg-[#1F94F0] rounded-lg ml-2 mt-2 px-4 py-1"},Xe=["src"],$e={key:0,class:"absolute w-full h-full top-0"},to=e("img",{class:"w-full rounded-s-lg h-full object-cover",src:_e,alt:""},null,-1),eo=[to],oo={class:"text-xs md:text-base"},so={key:0,class:"flex gap-4"},ao=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M1.33398 2.66227C1.33398 2.29651 1.63752 2 1.99518 2H14.0061C14.3713 2 14.6673 2.29663 14.6673 2.66227V13.3377C14.6673 13.7035 14.3638 14 14.0061 14H1.99518C1.63002 14 1.33398 13.7034 1.33398 13.3377V2.66227ZM4.00065 10V11.3333H12.0007V10H4.00065ZM4.00065 4.66667V8.66667H8.00065V4.66667H4.00065ZM9.33398 4.66667V6H12.0007V4.66667H9.33398ZM9.33398 7.33333V8.66667H12.0007V7.33333H9.33398ZM5.33398 6H6.66732V7.33333H5.33398V6Z",fill:"#858585"})],-1),io={class:"uppercase"},lo={key:1,class:"flex gap-4"},no=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M13.334 8.66667C13.334 10.1394 12.7371 11.4727 11.7719 12.4379L12.7147 13.3807C13.9211 12.1743 14.6673 10.5076 14.6673 8.66667C14.6673 4.98477 11.6825 2 8.00065 2C4.31875 2 1.33398 4.98477 1.33398 8.66667C1.33398 10.5076 2.08018 12.1743 3.2866 13.3807L4.22942 12.4379C3.26427 11.4727 2.66732 10.1394 2.66732 8.66667C2.66732 5.72115 5.05513 3.33333 8.00065 3.33333C10.9462 3.33333 13.334 5.72115 13.334 8.66667ZM10.196 5.52865L7.00065 8.33333L8.33398 9.66667L11.1388 6.47145L10.196 5.52865Z",fill:"#858585"})],-1),co={class:"capitalize"},ro={key:0,class:"flex gap-4"},uo=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M12.8185 12.489L13.997 11.3106L15.1755 12.489C15.8263 13.1399 15.8263 14.1952 15.1755 14.8461C14.5246 15.497 13.4693 15.497 12.8185 14.8461C12.1676 14.1952 12.1676 13.1399 12.8185 12.489ZM5.91907 0.720703L13.4615 8.26318C13.7219 8.52351 13.7219 8.94564 13.4615 9.20598L7.80467 14.8628C7.54433 15.1232 7.1222 15.1232 6.86187 14.8628L1.20503 9.20598C0.944679 8.94564 0.944679 8.52351 1.20503 8.26318L6.39048 3.07772L4.97627 1.66351L5.91907 0.720703ZM7.33327 4.02054L2.61924 8.73458H12.0473L7.33327 4.02054Z",fill:"#858585"})],-1),mo={class:"capitalize"},fo={key:1,class:"flex gap-4"},ho=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M12.6673 13.3327H3.33398V13.9993C3.33398 14.3675 3.0355 14.666 2.66732 14.666H2.00065C1.63246 14.666 1.33398 14.3675 1.33398 13.9993V7.99935L3.00954 3.53118C3.2047 3.01078 3.70219 2.66602 4.25798 2.66602H11.7433C12.2991 2.66602 12.7966 3.01078 12.9918 3.53118L14.6673 7.99935V13.9993C14.6673 14.3675 14.3689 14.666 14.0007 14.666H13.334C12.9658 14.666 12.6673 14.3675 12.6673 13.9993V13.3327ZM2.75798 7.99935H13.2433L11.7433 3.99935H4.25798L2.75798 7.99935ZM4.33398 11.3327C4.88627 11.3327 5.33398 10.8849 5.33398 10.3327C5.33398 9.78042 4.88627 9.33268 4.33398 9.33268C3.7817 9.33268 3.33398 9.78042 3.33398 10.3327C3.33398 10.8849 3.7817 11.3327 4.33398 11.3327ZM11.6673 11.3327C12.2196 11.3327 12.6673 10.8849 12.6673 10.3327C12.6673 9.78042 12.2196 9.33268 11.6673 9.33268C11.1151 9.33268 10.6673 9.78042 10.6673 10.3327C10.6673 10.8849 11.1151 11.3327 11.6673 11.3327Z",fill:"#858585"})],-1),po={class:"capitalize"},xo={key:0,class:"bg-[#F0F0F0] flex px-1 md:px-5 py-1 gap-1 md:gap-3 rounded-lg items-center"},_o=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{d:"M6.99935 12.8327C3.7776 12.8327 1.16602 10.2211 1.16602 6.99935C1.16602 3.7776 3.7776 1.16602 6.99935 1.16602C10.2211 1.16602 12.8327 3.7776 12.8327 6.99935C12.8327 10.2211 10.2211 12.8327 6.99935 12.8327ZM6.41777 9.33268L10.5419 5.20793L9.7171 4.3831L6.41777 7.68302L4.76752 6.03277L3.94268 6.8576L6.41777 9.33268Z",fill:"#0B1107"})],-1),vo={class:"text-[10px] capitalize"},go={key:1,class:"bg-[#F0F0F0] flex px-1 md:px-5 py-1 gap-1 md:gap-3 rounded-lg items-center"},wo=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{d:"M6.99935 12.8327C3.7776 12.8327 1.16602 10.2211 1.16602 6.99935C1.16602 3.7776 3.7776 1.16602 6.99935 1.16602C10.2211 1.16602 12.8327 3.7776 12.8327 6.99935C12.8327 10.2211 10.2211 12.8327 6.99935 12.8327ZM6.41777 9.33268L10.5419 5.20793L9.7171 4.3831L6.41777 7.68302L4.76752 6.03277L3.94268 6.8576L6.41777 9.33268Z",fill:"#0B1107"})],-1),bo={class:"text-[10px] capitalize"},yo=e("div",{class:"bg-[#F0F0F0] hidden md:flex gap-3 py-1 px-2 rounded-lg items-center"},[e("svg",{class:"w-4 md:w-[20px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},[e("path",{d:"M5.37852 15.8333L1.66602 18.75V3.33333C1.66602 3.11232 1.75381 2.90036 1.91009 2.74408C2.06637 2.5878 2.27834 2.5 2.49935 2.5H17.4993C17.7204 2.5 17.9323 2.5878 18.0886 2.74408C18.2449 2.90036 18.3327 3.11232 18.3327 3.33333V15C18.3327 15.221 18.2449 15.433 18.0886 15.5893C17.9323 15.7455 17.7204 15.8333 17.4993 15.8333H5.37852ZM5.83268 8.33333V10H7.49935V8.33333H5.83268ZM9.16602 8.33333V10H10.8327V8.33333H9.16602ZM12.4993 8.33333V10H14.166V8.33333H12.4993Z",fill:"#0A0A0A"})]),e("p",{class:"text-[10px] capitalize"},"Contact Buyer")],-1),Co={class:"flex gap-2 items-center"},ko=e("img",{class:"h-10 w-10",src:Ne,alt:""},null,-1),Ao=e("p",null,[at("Waiting for verification, can take up to "),e("span",null," 90 mins")],-1),Mo=[ko,Ao],Vo=e("p",null,"Dropped off date",-1),Ho={class:"font-medium text-base-black"},Lo=e("p",{class:"text-sm md:text-base"},"Final Bids",-1),Do={class:"flex gap-1"},So={class:"font-medium text-lg md:text-2xl text-base-black"},Bo={class:"text-[#666666] mt-1 text-sm md:text-base"},Zo=e("p",{class:"text-xs md:text-base"},"Approval period ends in",-1),Eo=e("p",{class:"text-[#FF9A02] text-xs md:text-base font-medium !m-0"}," 48 Hours ",-1),Fo=[Zo,Eo],jo={key:1,class:"hidden gap-4 md:flex p-5 justify-between w-full"},zo={key:2,class:"flex md:gap-4 p-2 gap-1 md:p-5 justify-between w-full"},To=e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},[e("path",{d:"M5.37852 15.8333L1.66602 18.75V3.33333C1.66602 3.11232 1.75381 2.90036 1.91009 2.74408C2.06637 2.5878 2.27834 2.5 2.49935 2.5H17.4993C17.7204 2.5 17.9323 2.5878 18.0886 2.74408C18.2449 2.90036 18.3327 3.11232 18.3327 3.33333V15C18.3327 15.221 18.2449 15.433 18.0886 15.5893C17.9323 15.7455 17.7204 15.8333 17.4993 15.8333H5.37852ZM5.83268 8.33333V10H7.49935V8.33333H5.83268ZM9.16602 8.33333V10H10.8327V8.33333H9.16602ZM12.4993 8.33333V10H14.166V8.33333H12.4993Z",fill:"#0A0A0A"})],-1),Ro={key:3,class:"md:flex gap-1 p-2 md:gap-4 md:p-5 justify-between w-full"},Oo=e("svg",{class:"block md:hidden h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},[e("path",{d:"M5.37852 15.8333L1.66602 18.75V3.33333C1.66602 3.11232 1.75381 2.90036 1.91009 2.74408C2.06637 2.5878 2.27834 2.5 2.49935 2.5H17.4993C17.7204 2.5 17.9323 2.5878 18.0886 2.74408C18.2449 2.90036 18.3327 3.11232 18.3327 3.33333V15C18.3327 15.221 18.2449 15.433 18.0886 15.5893C17.9323 15.7455 17.7204 15.8333 17.4993 15.8333H5.37852ZM5.83268 8.33333V10H7.49935V8.33333H5.83268ZM9.16602 8.33333V10H10.8327V8.33333H9.16602ZM12.4993 8.33333V10H14.166V8.33333H12.4993Z",fill:"#0A0A0A"})],-1),No={key:4,class:"flex gap-4 md:hidden p-5 justify-between w-full"},Po={key:5,class:"flex gap-1 p-2 md:gap-4 md:p-5 justify-between w-full"},Go=e("button",{disabled:"",class:"btn w-full bg-white border border-[#E0E0E0] text-[#A3A3A3]"},"Reviewed",-1),Io=e("svg",{class:"block md:hidden h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},[e("path",{d:"M5.37852 15.8333L1.66602 18.75V3.33333C1.66602 3.11232 1.75381 2.90036 1.91009 2.74408C2.06637 2.5878 2.27834 2.5 2.49935 2.5H17.4993C17.7204 2.5 17.9323 2.5878 18.0886 2.74408C18.2449 2.90036 18.3327 3.11232 18.3327 3.33333V15C18.3327 15.221 18.2449 15.433 18.0886 15.5893C17.9323 15.7455 17.7204 15.8333 17.4993 15.8333H5.37852ZM5.83268 8.33333V10H7.49935V8.33333H5.83268ZM9.16602 8.33333V10H10.8327V8.33333H9.16602ZM12.4993 8.33333V10H14.166V8.33333H12.4993Z",fill:"#0A0A0A"})],-1),qo=e("p",{class:"text-sm md:text-base"},"Current bid",-1),Uo={class:"text-lg font-medium md:text-2xl text-base-black"},Ko={key:0},Yo={key:1},Jo={key:2},Qo={class:"text-[#666666] text-sm md:!text-lg mt-2"},Wo=e("p",{class:"text-sm md:text-base"},"Auction ends in ",-1),Xo={class:"text-[#FF9A02] font-medium !m-0"},$o={class:"flex items-center gap-1"},ts={key:0,class:"flex gap-1 items-center"},es=e("p",{class:"text-sm md:text-bas"},"Starts in: ",-1),os={class:"flex gap-2 items-center"},ss={key:0,class:"font-medium"},as={key:1,class:"font-medium"},is={key:2,class:"font-medium"},ls={key:3,class:"font-medium"},ns={key:4,class:"font-medium"},cs={key:8,class:"p-2 md:p-5 w-full"},ds={key:9,class:"flex gap-4 p-5 justify-between w-full"},rs={class:"btn w-full bg-white mb-20 text-[#A3A3A3]"},us={key:0},ms={class:"btn w-full bg-white mb-20 text-[#A3A3A3]"},fs={key:0};function hs(D,i,w,t,Z,z){var M,x,C,f,h,_,R,O,N,P,V,G,H,I,q,U,K,Y,l,c,n,d,u,J,Q,W,X,$,tt,et,p,it,nt,ct,dt,rt,ut,mt,ft,ht,pt,xt,_t,vt,gt,wt,bt,yt,Ct,kt,At,Mt,Vt,Ht,Lt,Dt,St,Bt,Zt,Et,Ft,jt,zt,Tt,Rt,Ot,Nt,Pt,Gt,It,qt,Ut,Kt,Yt,Jt,Qt,Wt,Xt,$t,te,ee,oe,se,ae,ie,le,ne,ce,de,re,ue;const E=g("swiper-slide"),T=g("swiper"),y=g("RouterLink"),F=g("vue-countdown");return o(),s("div",{class:m(["w-full flex sm:p-0 relative",t.changeLayouts?"flex-col":"flex-col md:flex-row"])},[((M=t.auction)==null?void 0:M.status)=="completed"?(o(),s("p",Ue," Complete ")):a("",!0),((x=t.auction)==null?void 0:x.status)=="bids completed"?(o(),s("p",Ke," Bids Complete ")):a("",!0),((C=t.auction)==null?void 0:C.status)=="reviewed"?(o(),s("p",Ye," Reviewed ")):a("",!0),((f=t.auction)==null?void 0:f.status)=="drop off"?(o(),s("p",Je," Dropped Off ")):a("",!0),((h=t.auction)==null?void 0:h.status)=="upcoming"||((_=t.auction)==null?void 0:_.status)=="unapproved"?(o(),s("p",Qe," Launching Soon")):a("",!0),((R=t.auction)==null?void 0:R.status)=="live"?(o(),s("p",We," Live")):a("",!0),A(T,{pagination:"",modules:t.modules,"slides-per-view":1,class:m(["swiper-autions",t.changeLayouts?"w-full":"w-full md:w-[40%]"])},{default:B(()=>{var L,b;return[(o(!0),s(lt,null,xe((L=t.auction)==null?void 0:L.photos,(k,S)=>(o(),j(E,{key:S},{default:B(()=>[e("img",{class:"w-full rounded-s-lg h-full object-cover",src:t.bucket+k.url,alt:""},null,8,Xe)]),_:2},1024))),128)),(b=t.auction)!=null&&b.photos?a("",!0):(o(),s("div",$e,eo))]}),_:1},8,["modules","class"]),e("div",{class:m(["w-full flex justify-between gap-3",t.changeLayouts?"flex-col":"flex-col md:flex-row"])},[e("div",{onClick:i[0]||(i[0]=L=>{var b,k,S;return(((b=t.auction)==null?void 0:b.status)=="live"||((k=t.auction)==null?void 0:k.status)=="bids completed"||((S=t.auction)==null?void 0:S.status)=="completed")&&t.statusModalView.openModal({isActive:!0,data:t.auction})}),class:m([((O=t.auction)==null?void 0:O.status)=="live"||((N=t.auction)==null?void 0:N.status)=="bids completed"||((P=t.auction)==null?void 0:P.status)=="completed"?"cursor-pointer hover:shadow-xl":"","flex p-2 md:p-5 flex-col gap-3"])},[e("div",null,[e("p",oo,r((V=t.auction)==null?void 0:V.city)+", "+r((G=t.auction)==null?void 0:G.province),1)]),e("div",{class:m(["hidden md:grid grid-cols-2 gap-1",t.changeLayouts?"flex-col":""])},[(I=(H=t.auction)==null?void 0:H.vehicleDetails)!=null&&I.vin?(o(),s("div",so,[ao,e("p",io,r((U=(q=t.auction)==null?void 0:q.vehicleDetails)==null?void 0:U.vin),1)])):a("",!0),(Y=(K=t.auction)==null?void 0:K.vehicleDetails)!=null&&Y.odometer?(o(),s("div",lo,[no,e("p",co,r((c=(l=t.auction)==null?void 0:l.vehicleDetails)==null?void 0:c.odometer)+" Kilometers ",1)])):a("",!0)],2),e("div",{class:m(["hidden md:grid grid-cols-2 gap-1",t.changeLayouts?"flex-col":""])},[(d=(n=t.auction)==null?void 0:n.vehicleDetails)!=null&&d.color?(o(),s("div",ro,[uo,e("p",mo,r((J=(u=t.auction)==null?void 0:u.vehicleDetails)==null?void 0:J.color),1)])):a("",!0),(W=(Q=t.auction)==null?void 0:Q.vehicleDetails)!=null&&W.driveTrain?(o(),s("div",fo,[ho,e("p",po,r(($=(X=t.auction)==null?void 0:X.vehicleDetails)==null?void 0:$.driveTrain),1)])):a("",!0)],2),e("div",{class:m(["flex items-center md:grid md:grid-cols-2 gap-1",t.changeLayouts?" p-5 whitespace-nowrap  gap-5 overflow-x-auto overflow-y-hidden ":""])},[(et=(tt=t.auction)==null?void 0:tt.vehicleDetails)!=null&&et.tireCondition?(o(),s("div",xo,[_o,e("p",vo,r((it=(p=t.auction)==null?void 0:p.vehicleDetails)==null?void 0:it.tireCondition),1)])):a("",!0),(ct=(nt=t.auction)==null?void 0:nt.vehicleDetails)!=null&&ct.brakeCondition?(o(),s("div",go,[wo,e("p",bo,r((rt=(dt=t.auction)==null?void 0:dt.vehicleDetails)==null?void 0:rt.brakeCondition),1)])):a("",!0)],2),((ut=t.auction)==null?void 0:ut.status)=="bids completed"?(o(),j(y,{key:0,to:"#",class:m(["flex gap-4",t.changeLayouts?"flex-col":""])},{default:B(()=>[yo]),_:1},8,["class"])):a("",!0),be(e("div",Co,Mo,512),[[ye,((mt=t.auction)==null?void 0:mt.status)=="unapproved"]])],2),e("div",{class:m([t.changeLayouts?"w-full":"md:w-[40%] flex flex-col h-full justify-between","border-l-2 border-[#E0E0E0]"])},[((ft=t.auction)==null?void 0:ft.status)!=="live"&&((ht=t.auction)==null?void 0:ht.status)!=="upcoming"&&((pt=t.auction)==null?void 0:pt.status)!=="unapproved"?(o(),s("div",{key:0,class:m(["flex md:p-5 pl-4 gag justify-between",t.changeLayouts?"flex-row":"flex-col "])},[((xt=t.auction)==null?void 0:xt.status)=="reviewed"||((_t=t.auction)==null?void 0:_t.status)=="drop off"?(o(),s("div",{key:0,class:m(["space-y-1",t.changeLayouts?"flex flex-col justify-between items-start":""])},[Vo,e("p",Ho,r((vt=t.auction)==null?void 0:vt.dropOffDateForma),1)],2)):a("",!0),((gt=t.auction)==null?void 0:gt.status)=="reviewed"||((wt=t.auction)==null?void 0:wt.status)=="completed"||((bt=t.auction)==null?void 0:bt.status)=="bids completed"||((yt=t.auction)==null?void 0:yt.status)=="drop off"?(o(),s("div",{key:1,class:m(["space-y-1",t.changeLayouts?"flex flex-col justify-between items-start":""])},[Lo,e("div",Do,[e("p",So," $"+r((kt=(Ct=t.auction)==null?void 0:Ct.bids[0])==null?void 0:kt.amount),1),e("p",Bo," /"+r((At=t.auction)==null?void 0:At.bids.length)+" Bids",1)])],2)):a("",!0),((Mt=t.auction)==null?void 0:Mt.status)=="bids completed"?(o(),s("div",{key:2,class:m(t.changeLayouts?"flex justify-between items-start flex-col":"space-y-2 flex items-center gap-2")},Fo,2)):a("",!0)],2)):a("",!0),((Vt=t.auction)==null?void 0:Vt.status)=="completed"?(o(),s("div",jo,[A(y,{to:{name:"inbox-seller",query:{id:((Ht=t.auction)==null?void 0:Ht._id)+"-"+((Dt=(Lt=t.auction)==null?void 0:Lt.bids[0])==null?void 0:Dt.participant._id)}},class:"btn w-full bg-primary text-base-black"},{default:B(()=>[at("Contact Buyer")]),_:1},8,["to"])])):a("",!0),((St=t.auction)==null?void 0:St.status)=="bids completed"?(o(),s("div",zo,[e("button",{onClick:i[1]||(i[1]=L=>t.openModal()),class:"btn w-full bg-primary text-base-black"},"Accept"),e("button",{onClick:i[2]||(i[2]=L=>t.declineAution(t.auction,"decline")),class:"btn w-full bg-white border border-[#E0E0E0] text-error"},"Decline"),A(y,{to:{name:"inbox-seller",query:{id:((Bt=t.auction)==null?void 0:Bt._id)+"-"+((Et=(Zt=t.auction)==null?void 0:Zt.bids[0])==null?void 0:Et.participant._id)}},class:"border block md:hidden p-2 rounded-lg border-[#C2C2C2]"},{default:B(()=>[To]),_:1},8,["to"])])):a("",!0),((Ft=t.auction)==null?void 0:Ft.status)=="drop off"?(o(),s("div",Ro,[e("button",{onClick:i[3]||(i[3]=L=>t.statusReview.openModal({isActive:!0,data:t.auction})),class:"btn w-full bg-white border border-[#E0E0E0]"},"Input Review"),A(y,{to:{name:"inbox-seller",query:{id:((jt=t.auction)==null?void 0:jt._id)+"-"+((Tt=(zt=t.auction)==null?void 0:zt.bids[0])==null?void 0:Tt.participant._id)}},class:"border block md:hidden p-2 rounded-lg border-[#C2C2C2]"},{default:B(()=>[Oo]),_:1},8,["to"])])):a("",!0),((Rt=t.auction)==null?void 0:Rt.status)=="completed"?(o(),s("div",No,[A(y,{to:{name:"inbox-seller",query:{id:((Ot=t.auction)==null?void 0:Ot._id)+"-"+((Pt=(Nt=t.auction)==null?void 0:Nt.bids[0])==null?void 0:Pt.participant._id)}},class:"btn w-full bg-primary text-base-black"},{default:B(()=>[at("Contact Buyer")]),_:1},8,["to"])])):a("",!0),((Gt=t.auction)==null?void 0:Gt.status)=="reviewed"?(o(),s("div",Po,[Go,A(y,{to:{name:"inbox-seller",query:{id:((It=t.auction)==null?void 0:It._id)+"-"+((Ut=(qt=t.auction)==null?void 0:qt.bids[0])==null?void 0:Ut.participant._id)}},class:"border block lg:hidden p-2 rounded-lg border-[#C2C2C2]"},{default:B(()=>[Io]),_:1},8,["to"])])):a("",!0),((Kt=t.auction)==null?void 0:Kt.status)=="live"?(o(),s("div",{key:6,class:m(["flex p-5 pl-4 gap justify-between",t.changeLayouts?"flex-row":"flex-col "])},[e("div",{class:m(["space-y-1",t.changeLayouts?"flex flex-col justify-between items-start":""])},[qo,e("p",Uo,[(Jt=(Yt=t.auction)==null?void 0:Yt.bids[0])!=null&&Jt.amount?(o(),s("span",Ko,"$"+r((Wt=(Qt=t.auction)==null?void 0:Qt.bids[0])==null?void 0:Wt.amount),1)):($t=(Xt=t.auction)==null?void 0:Xt.vehicleDetails)!=null&&$t.basePrice?(o(),s("span",Yo," $"+r((ee=(te=t.auction)==null?void 0:te.vehicleDetails)==null?void 0:ee.basePrice),1)):(o(),s("span",Jo,"$0")),e("span",Qo,"/"+r(t.auction.bids.length)+" Bids ",1)])],2),e("div",{class:m(t.changeLayouts?"flex justify-between items-start flex-col":"space-y-2 flex items-center gap-2")},[Wo,e("p",Xo,[A(F,{time:t.timeToEnd((oe=t.auction)==null?void 0:oe.startDate,(se=t.auction)==null?void 0:se.duration)},{default:B(({days:L,hours:b,minutes:k,seconds:S})=>[e("div",$o,[b>0?(o(),s("p",ts,r(b)+" Hours",1)):a("",!0),k>0?(o(),s("p",{key:1,class:m([b==0&&k>0?"!text-error":"","flex gap-1 items-center"])},r(k)+"m",3)):a("",!0),S>0?(o(),s("p",{key:2,class:m([b==0&&k>0?"!text-error":"","flex gap-1 items-center"])},r(S)+"s",3)):a("",!0)])]),_:1},8,["time"])])],2)],2)):a("",!0),((ae=t.auction)==null?void 0:ae.status)=="upcoming"?(o(),s("div",{key:7,class:m(["flex md:p-5 pl-4 ga h-full justify-between",t.changeLayouts?"flex-row":"flex-col "])},[e("div",{class:m(["space-y-1",t.changeLayouts?"flex flex-col justify-between items-start":""])},[es,e("div",os,[A(F,{time:t.timeToStart((ie=t.auction)==null?void 0:ie.startDate),class:"flex text-base-black md:text-2xl gap-3 items-center"},{default:B(({days:L,hours:b,minutes:k,seconds:S})=>[L>0?(o(),s("p",ss,r(L)+"D",1)):a("",!0),b>0?(o(),s("p",as,r(b)+"H",1)):a("",!0),k>0?(o(),s("p",is,r(k)+"M",1)):a("",!0),S>0?(o(),s("p",ls,r(S)+"S",1)):(o(),s("p",ns,"0S"))]),_:1},8,["time"])])],2)],2)):a("",!0),((le=t.auction)==null?void 0:le.status)=="upcoming"||((ne=t.auction)==null?void 0:ne.status)=="unapproved"?(o(),s("div",cs,[e("button",{onClick:i[4]||(i[4]=L=>t.declineAution(t.auction,"cancelled")),class:"btn w-full bg-white border border-[#E0E0E0] text-error"},"Cancel")])):a("",!0),((ce=t.auction)==null?void 0:ce.status)=="cancelled"||((de=t.auction)==null?void 0:de.status)=="declined"?(o(),s("div",ds,[e("button",rs,[((re=t.auction)==null?void 0:re.status)=="cancelled"?(o(),s("p",us,"Cancelled")):a("",!0)]),e("button",ms,[((ue=t.auction)==null?void 0:ue.status)=="declined"?(o(),s("p",fs,"Declined")):a("",!0)])])):a("",!0)],2)],2)],2)}const ps=fe(qe,[["render",hs]]),xs={components:{ModalAcceptAutionVue:He,ModalViewDetailsVue:De,ModalReviewVue:Le,CreateAution:Se,CardAutionMobile:Be,Basic:Ee,CardAutionAll:ps,HeaderOptionesSeller:Ze,ScreenCreateAution:Pe,SorBy:Ge,ScrrenNoSorbySeller:Ie},setup(){const D=Ce();ke();const i=v(!1),w=v(!1),t=v(!1),Z=Ve(),z=he(),E=ve(),T=v(ot(()=>D.name)),y=v(ot(()=>z.aution)),F=ge(),M=v(!1),x=v(null),C=v(0),f=v([]),h=v([]),_=v("Auction Status & Date"),R=we(),O=()=>{t.value=!t.value,C.value++};Ae(y,async(l,c)=>{const n=f.value.findIndex(u=>u._id===l._id);f.value[n]=l;let d=null;d=me(f.value[n].vehicleDetails),d.length>0?f.value[n].photos=d:d=null,C.value++});const N=v(ot(()=>"https://s3.us-east-2.amazonaws.com/files.autosensei.ca/")),P=async()=>{var l,c,n,d;switch(x.value.option){case"cancelled":w.value=!0;try{await Z.autionsCancel(x.value._id)&&(x.value=null,M.value=!1,st("Successfully cancel the auction",{theme:"colored",type:"success",position:"top-center"}),V())}catch(u){st(((c=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:c.message)||"error al cargar",{type:"error",position:"top-center"}),w.value=!1}break;case"decline":w.value=!0;try{await Z.autionsDecline(x.value._id)&&(x.value=null,M.value=!1,st('Successfully declined the final bids. The vehicle has been moved to the "Parked"',{theme:"colored",type:"success",position:"top-center"}),V())}catch(u){st(((d=(n=u==null?void 0:u.response)==null?void 0:n.data)==null?void 0:d.message)||"error al cargar",{type:"error",position:"top-center"}),w.value=!1}break}},V=async()=>{w.value=!0;try{let l=await Z.index();f.value=l.data.filter(c=>c.status!=="draft"),h.value=l.data.filter(c=>c.status==="draft"),console.log("draft.value",h.value),f.value.map((c,n)=>{c.title=`${c.vehicleDetails.year} ${c.vehicleDetails.make} ${c.vehicleDetails.model}`;const d=new Intl.NumberFormat;c.vehicleDetails.odometer=d==null?void 0:d.format(c.vehicleDetails.odometer);let u=null;u=me(c.vehicleDetails),u.length>0?c.photos=u:u=null}),w.value=!1}catch{w.value=!1}},G=(l,c)=>{M.value=!0,x.value=l,x.value.option=c};function H(l,c){return!l||!c?0:new Date(new Date(l).getTime()+c*1e3*60).valueOf()-Date.now()}function I(l){return l?new Date(l)-Date.now():0}const q=l=>{console.log("REVISAR SI LLEGA",l),w.value=!0;try{if(Z.acceptAutions(E.dataAutiont._id,l))return"200"}catch{}finally{V()}},U=l=>{i.value=!1,_.value=l},K=["bids completed","live","upcoming","drop off","completed","unapproved","cancelled","draft","reviewed"],Y=ot(()=>{switch(_.value){case"Auction Status & Date":let l={};f.value.forEach(n=>{l[n.status]||(l[n.status]=[]),l[n.status].push(n)});const c=[];for(let n of K)l[n]&&c.push(l[n].sort((d,u)=>H(d.startDate,d.duration)-H(u.startDate,u.duration)));return c.flat();case"Auction Title":return f.value.filter(n=>!0).sort((n,d)=>{if(console.log(n.title,d.title,n.title===d.title,n.title>d.title,n.title<d.title),n.title===d.title)return 0;if(n.title>d.title)return 1;if(n.title<d.title)return-1});case"Auction Start":return f.value.filter(n=>!0).sort((n,d)=>H(n.startDate,n.duration)-H(d.startDate,d.duration));default:return f.value}});return Me(()=>{_.value,C.value++}),pe(()=>{V()}),{loading:w,isOpen:i,changeLayouts:t,changeGridTemplate:O,bucket:N,data:f,storeUser:z,storeAutions:Z,path:T,statusModal:E,declineAution:G,autionModal:x,openDecline:M,statusModalR:F,statusModalView:R,timeToEnd:H,timeToStart:I,acceptAution:q,cancelAution:P,index:V,counter:C,setSorBy:U,sortedData:Y,sortBy:_,draft:h}}},_s={key:0,class:"relative max-w-[100rem] bg-[#BDBDBF66] md:bg-white mx-auto z-50 md:top-[60px]"},vs={class:"flex justify-between md:mt-5 gap-4 mt-2"},gs={class:"hidden md:w-[29%] lg:block"},ws={class:"w-full lg:w-[70%]"},bs={class:"flex items-center justify-between px-2 pt-4 lg:p-0 mb-4"},ys={class:"font-semibold"},Cs={class:"flex items-center gap-2"},ks=e("p",{class:"mt-2 hidden md:block"},"Sort by:",-1),As={class:"flex items-center gap-5"},Ms={class:"navbar-right relative"},Vs={class:"p-2 text-xs md:text-[16px] pb-1"},Hs=e("div",{class:"p-2 border-l-2 pr-0 border-[#efefef]"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},[e("path",{d:"M15 3V12H17.25L14.25 15.75L11.25 12H13.5V3H15ZM9 13.5V15H2.25V13.5H9ZM10.5 8.25V9.75H2.25V8.25H10.5ZM10.5 3V4.5H2.25V3H10.5Z",fill:"#858585"})])],-1),Ls={key:0,class:"absolute z-10 top-auto left-0 w-full py-2 mt-2 rounded-lg border-gray-900 bg-white shadow-xl"},Ds={class:"shadow-md lg:flex rounded-md hidden bg-white"},Ss={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Bs=["fill"],Zs={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Es=["fill"],Fs={key:1},js={key:2,class:"fixed inset-0 flex items-end md:items-center z-50 justify-center bg-base-black bg-opacity-50"},zs={class:"max-w-md overflow-auto bg-white rounded-lg shadow-xl animation-fade-modal"},Ts={class:"p-2 md:p-4 rounded-t-lg bg-blue-dark flex items-center justify-between"},Rs=e("p",{class:"text-sm md:text-xl text-white"},"Cancel Auction",-1),Os=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ns=[Os],Ps={class:"p-4 border border-b-[#E0E0E0] flex gap-3 flex-col"},Gs={class:"flex gap-3 items-start"},Is={class:"w-[80px] md:w-[120px] md:h-[90px]"},qs=["src"],Us={key:1,class:"w-full h-full rounded-lg object-cover",src:_e,alt:""},Ks={class:"font-semibold capitalize md:text-base text-sm"},Ys=e("p",{class:"capitalize text-sm md:text-base"},"Final Bid",-1),Js={class:"flex gap-1"},Qs={key:0,class:"font-medium text-sm text-base-black md:text-2xl"},Ws={key:1,class:"font-medium text-base-black text-xs md:text-2xl"},Xs={key:2,class:"font-medium text-base-black text-xs md:text-2xl"},$s={class:"text-[#666666] mt-1 text-xs md:text-base"},ta={class:"md:py-10 p-2 md:px-4 pb-2"},ea={class:"text-xs md:text-base"},oa={class:"font-medium"},sa={class:"w-full flex gap-2 mt-4 items-center"};function aa(D,i,w,t,Z,z){var R,O,N,P,V,G,H,I,q,U,K,Y,l,c,n,d,u,J,Q,W,X,$,tt,et;const E=g("Basic"),T=g("HeaderOptionesSeller"),y=g("CreateAution"),F=g("CardAutionMobile"),M=g("CardAutionAll"),x=g("ScrrenNoSorbySeller"),C=g("ScreenCreateAution"),f=g("ModalAcceptAutionVue"),h=g("ModalReviewVue"),_=g("ModalViewDetailsVue");return o(),s(lt,null,[t.loading?(o(),j(E,{key:0})):(o(),s(lt,{key:1},[A(T),((R=t.data)==null?void 0:R.length)>0||t.draft.length>0?(o(),s("div",_s,[e("div",vs,[e("div",gs,[A(y,{class:"hidden lg:block",data:t.storeUser.userData,autions:t.storeAutions},null,8,["data","autions"])]),A(F,{class:"block lg:hidden",data:t.storeUser.userData,autions:t.storeAutions},null,8,["data","autions"]),e("div",ws,[e("div",bs,[e("p",ys,r((O=t.data)==null?void 0:O.length)+" Vehicles",1),e("div",Cs,[ks,e("div",As,[e("div",Ms,[e("button",{onClick:i[0]||(i[0]=p=>t.isOpen=!t.isOpen),class:"flex gap-2 rounded-md shadow-md px-2 bg-white items-center"},[e("p",Vs,r(t.sortBy),1),Hs]),t.isOpen?(o(),s("div",Ls,[e("div",{onClick:i[1]||(i[1]=p=>t.setSorBy("Auction Status & Date")),class:"text-[10px] md:text-sm text-gray-900 hover:bg-base-black hover:text-white block px-4 py-2 cursor-pointer"}," Auction Status & Date "),e("div",{onClick:i[2]||(i[2]=p=>t.setSorBy("Auction Title")),class:"text-[10px] md:text-sm text-gray-900 hover:bg-base-black hover:text-white block px-4 py-2 cursor-pointer"}," Auction Title "),e("div",{onClick:i[3]||(i[3]=p=>t.setSorBy("Auction Start")),class:"text-[10px] md:text-sm text-gray-900 hover:bg-base-black hover:text-white block px-4 py-2 cursor-pointer"}," Auction Start")])):a("",!0)]),e("div",Ds,[e("div",{onClick:i[4]||(i[4]=(...p)=>t.changeGridTemplate&&t.changeGridTemplate(...p)),class:m([t.changeLayouts?"bg-white":"bg-[#EFF8E0]","p-2 cursor-pointer"])},[(o(),s("svg",Ss,[e("path",{d:"M19 11V5H5V11H19ZM19 13H5V19H19V13ZM4 3H20C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21H4C3.73478 21 3.48043 20.8946 3.29289 20.7071C3.10536 20.5196 3 20.2652 3 20V4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3Z",fill:t.changeLayouts?"#09121F":"#7EC600"},null,8,Bs)]))],2),e("div",{onClick:i[5]||(i[5]=(...p)=>t.changeGridTemplate&&t.changeGridTemplate(...p)),class:m([t.changeLayouts?"bg-[#EFF8E0]":"bg-white","p-2 flex item-center justify-center cursor-pointer"])},[(o(),s("svg",Zs,[e("path",{d:"M21 3C21.2652 3 21.5196 3.10536 21.7071 3.29289C21.8946 3.48043 22 3.73478 22 4V20C22 20.2652 21.8946 20.5196 21.7071 20.7071C21.5196 20.8946 21.2652 21 21 21H3C2.73478 21 2.48043 20.8946 2.29289 20.7071C2.10536 20.5196 2 20.2652 2 20V4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H21ZM11 13H4V19H11V13ZM20 13H13V19H20V13ZM11 5H4V11H11V5ZM20 5H13V11H20V5Z",fill:t.changeLayouts?"#7EC600":"#09121F"},null,8,Es)]))],2)])])])]),t.sortedData.length>0?(o(),s("div",{key:0,class:m(["p-2",t.changeLayouts?"grid grid-cols-3 place-content-center place-items-center gap-5":"animate-fade-up  animate-ease-in-out animate-delay-200"])},[(o(!0),s(lt,null,xe(t.sortedData,(p,it)=>(o(),s("div",{key:it,class:m(["bg-white flex md:mb-7 gap-5 items-start shadow-steps mb-[20%] w-full",t.changeLayouts?"animate-fade-up  animate-ease-in-out animate-delay-200":""])},[(o(),j(M,{key:t.counter,auction:p,changeLayouts:t.changeLayouts,decline:t.declineAution},null,8,["auction","changeLayouts","decline"]))],2))),128))],2)):(o(),s("div",Fs,[A(x)]))])])])):(o(),j(C,{key:1}))],64)),t.openDecline?(o(),s("div",js,[e("div",zs,[e("div",Ts,[Rs,(o(),s("svg",{onClick:i[6]||(i[6]=p=>t.openDecline=!1),xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-8 md:w-8 md:h-8 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"#fff"},Ns))]),e("div",Ps,[e("div",Gs,[e("div",Is,[(N=t.autionModal)!=null&&N.photos?(o(),s("img",{key:0,class:"w-full h-full rounded-lg object-cover",src:t.bucket+((P=t.autionModal)==null?void 0:P.photos[0].url),alt:""},null,8,qs)):(o(),s("img",Us))]),e("div",null,[e("p",Ks,r((G=(V=t.autionModal)==null?void 0:V.vehicleDetails)==null?void 0:G.year)+" "+r((I=(H=t.autionModal)==null?void 0:H.vehicleDetails)==null?void 0:I.make)+" "+r((U=(q=t.autionModal)==null?void 0:q.vehicleDetails)==null?void 0:U.model),1),Ys,e("div",Js,[(Y=(K=t.autionModal)==null?void 0:K.bids[0])!=null&&Y.amount?(o(),s("p",Qs," $"+r((l=t.autionModal)==null?void 0:l.bids[0].amount),1)):(n=(c=t.autionModal)==null?void 0:c.vehicleDetails)!=null&&n.basePrice?(o(),s("p",Ws,"$"+r((u=(d=D.auction)==null?void 0:d.vehicleDetails)==null?void 0:u.basePrice),1)):(o(),s("p",Xs,"$0 ")),e("p",$s," /"+r((Q=(J=t.autionModal)==null?void 0:J.bids)==null?void 0:Q.length)+" Bids ",1)])])])]),e("div",ta,[e("p",ea,[at("Are you sure you want to cancel the auction for the "),e("span",oa,r((X=(W=t.autionModal)==null?void 0:W.vehicleDetails)==null?void 0:X.model),1),at("?")]),e("div",sa,[e("button",{onClick:i[7]||(i[7]=p=>t.openDecline=!1),class:"btn w-full border-[#E0E0E0] border rounded-lg"},"No"),e("button",{onClick:i[8]||(i[8]=(...p)=>t.cancelAution&&t.cancelAution(...p)),class:"btn w-full bg-primary rounded-lg"},"Yes")])])])])):a("",!0),($=t.statusModal)!=null&&$.isActive?(o(),j(f,{key:3,acceptAution:t.acceptAution},null,8,["acceptAution"])):a("",!0),(tt=t.statusModalR)!=null&&tt.isActive?(o(),j(h,{key:4,index:t.index},null,8,["index"])):a("",!0),(et=t.statusModalView)!=null&&et.isActive?(o(),j(_,{key:5})):a("",!0)],64)}const Aa=fe(xs,[["render",aa]]);export{Aa as default};
