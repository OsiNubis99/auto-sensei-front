import{P as u,W as i,L as d}from"./index-a9dcb4bf.js";import{h as r}from"./moment-fbc5633a.js";const o={deleted:"deleted",canceled:"cancelled",draft:"draft",unapproved:"unapproved",upcoming:"upcoming",live:"live",completed:"completed",dropOff:"drop off",reviewed:"reviewed",bidsCompleted:"bids completed",rejected:"rejected"},m=u("useAuctiontore",{state:()=>({data:{},draft:[],unapproved:[],upcoming:[],live:[],completed:[],completedDelaer:[],canceled:[],currentBids:[],autionById:[],upcomingAmin:[],rejected:[],stats:null}),actions:{index(n){return new Promise((c,a)=>{i.post("/auction/find-all").then(t=>{console.log("response",t),d(),t.data.map((e,s)=>(e.createHour=r(e.createdAt).format("HH:mm A"),e.createDay=r(e.createdAt).format("LL"),e.dropOffDateForma=r(e.dropOffDate).format("LL"),e)),this.draft=t.data.filter(e=>e.status==o.draft),this.rejected=t.data.filter(e=>e.status==o.rejected),this.unapproved=t.data.filter(e=>e.status==o.unapproved),this.upcomingAmin=t.data.filter(e=>e.status==o.upcoming),this.upcoming=t.data.filter(e=>e.status==o.upcoming||e.status==o.unapproved),this.live=t.data.filter(e=>e.status==o.live),this.completed=t.data.filter(e=>e.status==o.completed||e.status==o.reviewed||e.status==o.bidsCompleted||e.status==o.dropOff),this.canceled=t.data.filter(e=>e.status==o.canceled),this.data=t.data,c(t)}).catch(t=>{a(t)})})},indexCurrentBids(n){return new Promise((c,a)=>{i.post("/auction/find/current-bids").then(t=>{console.log("find/current-bids",t),this.currentBids=t.data.filter(e=>e.status==o.live||e.status==o.bidsCompleted),this.completedDelaer=t.data.filter(e=>e.status==o.completed||e.status==o.reviewed||e.status==o.bidsCompleted||e.status==o.dropOff),console.log("this.currentBids",this.currentBids),console.log("this.completedDelaer ",this.completedDelaer),c(t)}).catch(t=>{a(t)})})},create(n){return new Promise((c,a)=>{i.post("/auction",n).then(t=>{c(t)}).catch(t=>{a(t)})})},update({uuid:n,payload:c}){return new Promise((a,t)=>{i.put(`/auction/${n}`,c).then(e=>{a(e)}).catch(e=>{t(e)})})},delete(n){return console.log("uuid",n),new Promise((c,a)=>{i.delete(`/auction/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})},getAutionById({uuid:n}){return new Promise((c,a)=>{i.get(`/auction/${n}`).then(t=>{this.autionById=t.d,c(t)}).catch(t=>{a(t)})})},activeAutions(n){return new Promise((c,a)=>{i.patch(`/auction/aprove/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})},inactivateAutions(n){return new Promise((c,a)=>{i.patch(`/auction/reject/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})},autionsBit({uuid:n,payload:c}){return new Promise((a,t)=>{i.post(`/auction/bid/${n}`,c).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsBitUpdate({uuid:n,payload:c}){return new Promise((a,t)=>{i.patch(`/auction/bid/${n}`,c).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsCancel(n){return new Promise((c,a)=>{i.patch(`/auction/cancel/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})},autionsDecline(n){return new Promise((c,a)=>{i.patch(`/auction/decline/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})},acceptAutions(n,c){return new Promise((a,t)=>{i.patch(`/auction/accept/${n}`,{url:c}).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsReview({uuid:n,payload:c}){return new Promise((a,t)=>{i.post(`/auction/valorate/${n}`,c).then(e=>{a(e)}).catch(e=>{t(e)})})},getStats(){return new Promise((n,c)=>{i.get("/user/stats").then(a=>{console.log("S   T   A    T     S",a),this.stats=a.data,n(a)}).catch(a=>{c(a)})})},autionsAddRemindMe({uuid:n}){return new Promise((c,a)=>{i.patch(`/auction/${n}/add-remind`).then(t=>{c(t)}).catch(t=>{a(t)})})},autionsCancelRemindMe({uuid:n}){return new Promise((c,a)=>{i.patch(`/auction/${n}/remove-remind`).then(t=>{c(t)}).catch(t=>{a(t)})})},vehicleReceived(n,c){return new Promise((a,t)=>{i.patch(`/auction/drop-off/${n}`,{url:c}).then(e=>{console.log("response",e),a(e)}).catch(e=>{t(e)})})},launchAuction({uuid:n}){return new Promise((c,a)=>{i.get(`/auction/force-launch/${n}`).then(t=>{c(t)}).catch(t=>{a(t)})})}}});export{m as u};
