import{u as c}from"./uploader-8aa412d6.js";import{_ as d,o as i,c as n,f as l,K as a,N as u}from"./index-0a7c1d48.js";const p=c(),h={data(){return{selectedFiles:[],uploadResults:[],id_create:"test-upload-123",error:null}},methods:{onFileChange(s){this.selectedFiles=Array.from(s.target.files).map(e=>({file:e,name:e.name.split(".")[0],type:e.type.split("/")[0],size:e.size,format:e.type.split("/")[1]})),this.uploadResults=[],this.error=null},async uploadFiles(){try{this.uploadResults=[],this.error=null;for(const s of this.selectedFiles){let e=await Promise.all([p.uploaderFile({file:s.file,location:"hola"})]);this.uploadResults.push({file:s.name,response:e[0]})}}catch(s){alert(JSON.stringify(s)),console.error("Error al subir archivos:",s),this.error=`Error: ${s.message||"Error desconocido"}`}}}},m={class:"p-4 h-[50vh] bg-red-100 flex flex-col items-center justify-center"},f={key:0,class:"mt-4"},g={key:1,class:"mt-4"},_=l("h3",null,"Resultados:",-1),y={key:2,class:"mt-4 text-red-500"};function F(s,e,v,x,t,r){return i(),n("div",m,[l("input",{type:"file",class:"hidden",ref:"fileInput",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...o)=>r.onFileChange&&r.onFileChange(...o))},null,544),l("button",{onClick:e[1]||(e[1]=o=>s.$refs.fileInput.click()),class:"px-4 py-2 mt-36 bg-[#000] text-white rounded"},"Seleccionar archivos"),t.selectedFiles.length?(i(),n("div",f,[l("p",null,"Archivos seleccionados: "+a(t.selectedFiles.length),1),l("button",{onClick:e[2]||(e[2]=(...o)=>r.uploadFiles&&r.uploadFiles(...o)),class:"px-4 py-2 bg-green-500 bg-[#000] text-white rounded mt-2"},"Probar subida")])):u("",!0),t.uploadResults.length?(i(),n("div",g,[_,l("pre",null,a(JSON.stringify(t.uploadResults,null,2)),1)])):u("",!0),t.error?(i(),n("div",y,a(JSON.stringify(t.error)),1)):u("",!0)])}const C=d(h,[["render",F]]);export{C as default};
