import{R as u,V as o,L as d}from"./index-e6ed12b8.js";import{h as r}from"./moment-fbc5633a.js";const i={deleted:"deleted",canceled:"cancelled",draft:"draft",unapproved:"unapproved",upcoming:"upcoming",live:"live",completed:"completed",dropOff:"drop off",reviewed:"reviewed",bidsCompleted:"bids completed"},p=u("useAuctiontore",{state:()=>({data:{},draft:[],unapproved:[],upcoming:[],live:[],completed:[],completedDelaer:[],canceled:[],currentBids:[],autionById:[],stats:null}),actions:{index(c){return new Promise((n,a)=>{o.post("/auction/find-all").then(t=>{console.log("response",t),d(),t.data.map((e,s)=>(e.createHour=r(e.createdAt).format("HH:mm A"),e.createDay=r(e.createdAt).format("LL"),e.dropOffDateForma=r(e.dropOffDate).format("LL"),e)),this.draft=t.data.filter(e=>e.status==i.draft),this.unapproved=t.data.filter(e=>e.status==i.unapproved),this.upcoming=t.data.filter(e=>e.status==i.upcoming||e.status==i.unapproved),this.live=t.data.filter(e=>e.status==i.live),this.completed=t.data.filter(e=>e.status==i.completed||e.status==i.reviewed||e.status==i.bidsCompleted||e.status==i.dropOff),this.canceled=t.data.filter(e=>e.status==i.canceled),this.data=t.data,n(t)}).catch(t=>{a(t)})})},indexCurrentBids(c){return new Promise((n,a)=>{o.post("/auction/find/current-bids").then(t=>{console.log("find/current-bids",t),this.currentBids=t.data.filter(e=>e.status==i.live||e.status==i.bidsCompleted),this.completedDelaer=t.data.filter(e=>e.status==i.completed||e.status==i.reviewed||e.status==i.bidsCompleted||e.status==i.dropOff),console.log("this.currentBids",this.currentBids),console.log("this.completedDelaer ",this.completedDelaer),n(t)}).catch(t=>{a(t)})})},create(c){return new Promise((n,a)=>{o.post("/auction",c).then(t=>{n(t)}).catch(t=>{a(t)})})},update({uuid:c,payload:n}){return new Promise((a,t)=>{o.put(`/auction/${c}`,n).then(e=>{a(e)}).catch(e=>{t(e)})})},delete(c){return console.log("uuid",c),new Promise((n,a)=>{o.delete(`/auction/${c}`).then(t=>{n(t)}).catch(t=>{a(t)})})},getAutionById({uuid:c}){return new Promise((n,a)=>{o.get(`/auction/${c}`).then(t=>{this.autionById=t.d,n(t)}).catch(t=>{a(t)})})},activeAutions(c){return new Promise((n,a)=>{o.patch(`/auction/aprove/${c}`).then(t=>{n(t)}).catch(t=>{a(t)})})},inactivateAutions(c){return new Promise((n,a)=>{o.patch(`/auction/reject/${c}`).then(t=>{n(t)}).catch(t=>{a(t)})})},autionsBit({uuid:c,payload:n}){return new Promise((a,t)=>{o.post(`/auction/bid/${c}`,n).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsBitUpdate({uuid:c,payload:n}){return new Promise((a,t)=>{o.patch(`/auction/bid/${c}`,n).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsCancel(c){return new Promise((n,a)=>{o.patch(`/auction/cancel/${c}`).then(t=>{n(t)}).catch(t=>{a(t)})})},autionsDecline(c){return new Promise((n,a)=>{o.patch(`/auction/decline/${c}`).then(t=>{n(t)}).catch(t=>{a(t)})})},acceptAutions(c,n){return new Promise((a,t)=>{o.patch(`/auction/accept/${c}`,{url:n}).then(e=>{a(e)}).catch(e=>{t(e)})})},autionsReview({uuid:c,payload:n}){return new Promise((a,t)=>{o.post(`/auction/valorate/${c}`,n).then(e=>{a(e)}).catch(e=>{t(e)})})},getStats(){return new Promise((c,n)=>{o.get("/user/stats").then(a=>{this.stats=a.data,c(a)}).catch(a=>{n(a)})})},autionsAddRemindMe({uuid:c}){return new Promise((n,a)=>{o.patch(`/auction/${c}/add-remind`).then(t=>{n(t)}).catch(t=>{a(t)})})},autionsCancelRemindMe({uuid:c}){return new Promise((n,a)=>{o.patch(`/auction/${c}/remove-remind`).then(t=>{n(t)}).catch(t=>{a(t)})})},vehicleReceived(c,n){return new Promise((a,t)=>{o.patch(`/auction/drop-off/${c}`,{url:n}).then(e=>{console.log("response",e),a(e)}).catch(e=>{t(e)})})}}});export{p as u};
