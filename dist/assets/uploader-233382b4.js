import{P as u,Y as p}from"./index-b997fd08.js";const f=u("useStoreFile",{state:()=>({url:[],progressUpload:0}),actions:{uploaderFile(o){alert("subiendo archivo");let s=new FormData;return s.append("file",o.file),s.append("location",o.location),new Promise((l,d)=>{p.post("/uploader/create",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{this.progressUpload=Math.round(e.loaded*100/e.total)},transformRequest:[function(e,t){return e}],transformResponse:[function(e){return e}]}).then(e=>{alert("archivo subido"),console.log("response uploader",e),l(e)}).catch(e=>{var a,r,n,i;alert(JSON.stringify(e.message||"Error desconocido")),alert(JSON.stringify(((a=e.response)==null?void 0:a.status)||"sin respuesta")),alert(JSON.stringify(((r=e.response)==null?void 0:r.data)||{})),console.log("error uploader",e.message);const t={message:e.message||"Error desconocido",status:((n=e.response)==null?void 0:n.status)||"sin respuesta",details:((i=e.response)==null?void 0:i.data)||{}};d(t)})})}}});export{f as u};
