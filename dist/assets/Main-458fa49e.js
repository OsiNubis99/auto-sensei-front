import{S as Pe,b as Te,N as Ue}from"./navigation-fbfa0b6a.js";import{P as Ae,S as Me,A as Ie}from"./scrollbar-4f7a5c5e.js";import{_ as ae,r as x,af as ie,L as oe,ad as Fe,b as se,e as H,o as r,c as n,f as t,l as S,N as w,k as F,R as U,n as N,D as ze,h as me,i as X,K as ee,O as b,m as le,u as ne,M as de,A as ce,Y as ue,v as Ve,Q as J}from"./index-42cfbfc5.js";import{r as Le}from"./Regex-30245bb3.js";import{u as De}from"./user-1d9bdc25.js";import{u as Re}from"./uploader-e99b3b52.js";import{i as qe}from"./index-dc459b4d.js";import{u as Be}from"./payments-4ea85d30.js";import"./moment-fbc5633a.js";const Oe=(l,a)=>{let o={};return a=="dealers"?(l.lastName||(o.lastName="Required field"),l.firtName||(o.firtName="Required field"),l.email?Le.test(l.email.trim())||(o.email="Invalid email"):o.email="Required field",l.password?l.password.length<8?o.password="Verify that your password is 8 characters long":l.confirmPassword?l.password!==l.confirmPassword&&(o.confirmPassword="Passwords do not match"):o.confirmPassword="Required field":o.password="Required field",l.termsconditions||(o.termsconditions="You must accept terms and conditions.")):(l.email?Le.test(l.email.trim())||(o.email="Invalid email"):o.email="Required field",l.password?l.password.length<8?o.password="Verify that your password is 8 characters long":l.confirmPassword?l.password!==l.confirmPassword&&(o.confirmPassword="Passwords do not match"):o.confirmPassword="Required field":o.password="Required field",l.termsconditions||(o.termsconditions="You must accept terms and conditions.")),o},Ye=(l,a)=>{let o={};return a=="dealers"?(l.dealerName||(o.dealerName="Required field"),l.registrationNumber||(o.registrationNumber="Required field"),l.linea1||(o.linea1="Required field"),l.zipCode||(o.zipCode="Required field"),l.province||(o.province="Required field"),l.city||(o.city="Required field"),l.phoneNumber||(o.phoneNumber="Required field")):(l.firtName||(o.firtName="Required field"),l.lastName||(o.lastName="Required field"),l.phoneNumber||(o.phoneNumber="Required field")),o},Ge={props:{next:{type:Function},rol:{type:String}},setup(l){let a=x();const o=x(),e=ie(),R=oe(),s=x(!1),m=e.formData,d=async()=>{var c,u,v,g;if(o.value=Oe(m,a.value),Object.entries(o.value).length>0){b(((c=o==null?void 0:o.value)==null?void 0:c.email)||o.value.password||o.value.confirmPassword||o.value.termsconditions,{type:"error",autoClose:2e3});return}if(Object.entries(o.value).length===0){s.value=!0;try{let E={email:m.email,password:m.password,seller:{firstName:"",lastName:""}},j={email:m.email,password:m.password,dealer:{firstName:m.firtName,lastName:m.lastName}},h=a.value=="dealers"?j:E,i=await R.register(h);i.data.status==400?(b(((u=i==null?void 0:i.data)==null?void 0:u.message)||"error al cargar",{type:"error"}),s.value=!1):(l.next(),s.value=!1)}catch(E){b(((g=(v=E==null?void 0:E.response)==null?void 0:v.data)==null?void 0:g.message)||"error al cargar",{type:"error"}),s.value=!1}}};return Fe(()=>{a.value=l.rol}),se(()=>{a.value=l.rol}),{nextStep:d,rol:a,form:m,invalid:o,loading:s}}},Je={key:0,class:"h-screen-login-loading w-full h-full flex justify-center items-center"},Ke=le('<div><div class="h-12 w-12 md:h-[80px] md:w-[80px]"><div class="animate-bounce"><svg xmlns="http://www.w3.org/2000/svg" class="animate-spin" fill="#c1f861" stroke="#fff" stroke-width="0" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"></path></svg></div><p class="text-base-gray text-xs md:text-base mt-3 font-medium md:pl-2">Loading...</p></div></div>',1),Qe=[Ke],We={key:1,class:"flex-1 flex flex-col overflow-auto justify-between py-12 px-4 sm:px-6 lg:flex-none lg:px-10 xl:px-24"},He={class:"flex-1 flex flex-col h-creen gap-6 md:gap-0 justify-center md:py-12 px-4 sm:px-6 md:h-full lg:flex-none lg:px-10 2xl:px-24"},Xe={class:"mx-auto w-full"},Ze={class:"animate-fade-up animate-ease-in-out animate-delay-100"},$e={class:"mt-6 text-3xl md:text-4xl font-bold text-base-black text-center md:mb-5"},et={key:0},tt={key:1},at={class:"text-sm font-normal text-[#666] text-center"},ot={key:0},st={key:1},lt={class:"mt-8"},rt={class:"mt-6 space-y-7"},it={key:0,class:"flex flex-col md:flex-row gap-6 justify-between items-center"},nt={class:"w-full animate-fade-up animate-ease-in-out animate-delay-200"},dt=t("label",{htmlFor:"name",class:"block text-sm font-medium text-gray-700"}," Legal First Name* ",-1),ct={class:"mt-1"},mt={class:"w-full animate-fade-up animate-ease-in-out animate-delay-200"},ut=t("label",{htmlFor:"lastName",class:"block text-sm font-medium text-gray-700"}," Legal Last Name* ",-1),ft={class:"mt-1"},pt={class:"animate-fade-up animate-ease-in-out animate-delay-300"},xt=t("label",{htmlFor:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1),vt={class:"mt-1"},gt={class:"space-y-1 animate-fade-up animate-ease-in-out animate-delay-600"},ht=t("label",{htmlFor:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1),bt={class:"mt-1"},yt={class:"space-y-1 animate-fade-up animate-ease-in-out animate-delay-800"},_t=t("label",{htmlFor:"confirmationpassword",class:"block text-sm font-medium text-gray-700"}," Confirmation Password ",-1),wt={class:"mt-1"},kt={class:"flex w-full justify-start dark:bg-gray-950 animate-fade-up animate-ease-in-out animate-delay-800"},Nt={class:"flex justify-between items-center gap-2"},Ct={class:"relative flex cursor-pointer items-center mb-1 rounded-md"},St=t("div",{class:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Et={class:"flex flex-col relative"},Lt={class:"!text-sm font-medium text-gray-700"},Ft={key:0,class:"text-xs text-error absolute whitespace-pre -bottom-[100%] font-medium text-gray-700"},zt={class:"!mb-10 !md:m-0"},Dt={class:"text-center"},Rt={class:"!text-[10px] md:text-xs font-normal text-[#666]"};function jt(l,a,o,e,R,s){var d,c,u,v,g,E,j;const m=H("RouterLink");return e.loading?(r(),n("div",Je,Qe)):(r(),n("div",We,[t("div",He,[t("div",Xe,[t("div",Ze,[t("h2",$e,[S("Create Your "),e.rol=="dealers"?(r(),n("span",et," Dealer")):w("",!0),S(),e.rol=="sellers"?(r(),n("span",tt," Sellers")):w("",!0),S(" Account ")]),t("p",at,[S("Auction your car to "),e.rol=="dealers"?(r(),n("span",ot," dealers")):w("",!0),S(),e.rol!=="dealers"?(r(),n("span",st," sellers")):w("",!0),S(" right from your home.")])]),t("div",lt,[t("div",rt,[e.rol=="dealers"?(r(),n("div",it,[t("div",nt,[dt,t("div",ct,[F(t("input",{name:"name",type:"text","onUpdate:modelValue":a[0]||(a[0]=h=>e.form.firtName=h),placeholder:"Alex",class:N([(d=e.invalid)!=null&&d.firtName?"border-error ":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.firtName]])])]),t("div",mt,[ut,t("div",ft,[F(t("input",{name:"lastName",type:"text","onUpdate:modelValue":a[1]||(a[1]=h=>e.form.lastName=h),placeholder:"Turner",class:N([(c=e.invalid)!=null&&c.lastName?"border-error":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.lastName]])])])])):w("",!0),t("div",pt,[xt,t("div",vt,[F(t("input",{name:"email",type:"email","onUpdate:modelValue":a[2]||(a[2]=h=>e.form.email=h),autoComplete:"email",class:N([(u=e.invalid)!=null&&u.email?"border-error":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"]),placeholder:"your@email.com"},null,2),[[U,e.form.email]])])]),t("div",gt,[ht,t("div",bt,[F(t("input",{name:"password",type:"password","onUpdate:modelValue":a[3]||(a[3]=h=>e.form.password=h),placeholder:"*********",class:N([(v=e.invalid)!=null&&v.password?"border-error":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.password]])])]),t("div",yt,[_t,t("div",wt,[F(t("input",{name:"confirmationpassword",type:"password","onUpdate:modelValue":a[4]||(a[4]=h=>e.form.confirmPassword=h),placeholder:"*********",class:N([(g=e.invalid)!=null&&g.confirmPassword?"border-error":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.confirmPassword]])])]),t("div",kt,[t("div",Nt,[t("label",Ct,[F(t("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=h=>e.form.termsconditions=h),class:N([e.form.termsconditions?"bg-base-black":"bg-white","peer cursor-pointer appearance-none relative h-4 w-4 dark:bg-gray-100/25 border border-gray-900 dark:border-gray-100 transition-all checked:border-blue-500 checked:bg-blue-500 rounded-md"])},null,2),[[ze,e.form.termsconditions]]),St]),t("div",Et,[t("p",Lt,[S("I accept the "),me(m,{to:"/terms-conditions",target:"_blank",class:"font-medium underline text-base-black hover:text-indigo-500"},{default:X(()=>[S(" terms and conditions ")]),_:1})]),(E=e.invalid)!=null&&E.termsconditions?(r(),n("p",Ft,ee((j=e.invalid)==null?void 0:j.termsconditions),1)):w("",!0)])])]),t("div",zt,[t("button",{onClick:a[6]||(a[6]=(...h)=>e.nextStep&&e.nextStep(...h)),id:"createAccount",class:"animate-fade-up animate-ease-in-out animate-delay-900 w-full btn flex justify-center bg-primary py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-base-black bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Create Account ")])])])])]),t("div",Dt,[t("p",Rt,[S(" By clicking “Create Account”, you acknowledge that you have read & agreed to AutoSensei User's "),me(m,{to:"/terms-conditions",target:"_blank",class:"font-medium underline text-base-black hover:text-indigo-500"},{default:X(()=>[S(" Terms & Conditions. ")]),_:1})])])]))}const Pt=ae(Ge,[["render",jt]]),Tt={props:{next:{type:Function},back:{type:Function},rol:{type:String},gobackError:{type:Function}},setup(l){let a=l.rol;const e=ie().formData;ne();const R=de(),s=x(null),m=x(ce(()=>"https://s3.us-east-2.amazonaws.com/files.autosensei.ca/")),d=x(!1),c=oe(),u=x(!1),v=()=>{l.next()},g=()=>{l.back()},E=async()=>{},j=()=>{l.gobackError()},h=async()=>{u.value=!0;try{let y={email:e.email};(await c.resendEmail(y)).status==200&&(u.value=!1,b("Email succesfully resent",{type:"success"}))}catch(y){u.value=!1,b(y.response.data.message||"Your request could not be sent",{type:"error"})}},i=async()=>{var y,L;if(s.value)d.value=!1;else{d.value=!0,b("Campo Obligarotio",{type:"error"});return}u.value=!0;try{let z=await c.verifiedCodeEmail({code:s.value,email:e.email});z.data.access_token&&(localStorage.setItem("updateUser",z.data.access_token),l.next())}catch(z){u.value=!1,b(((L=(y=z.response)==null?void 0:y.data)==null?void 0:L.message)||"error",{type:"error"})}finally{u.value=!1}};return se(()=>{}),{nextStep:v,rol:a,form:e,backStep:g,sendResendEmail:E,route:R,backError:j,codeEmail:s,verifiedCode:i,errorCode:d,loading:u,sendRecover:h,bucket:m}}},Ut={key:0,class:"h-screen-login-loading w-full h-full flex justify-center items-center"},At=le('<div><div class="h-12 w-12 md:h-[80px] md:w-[80px]"><div class="animate-bounce"><svg xmlns="http://www.w3.org/2000/svg" class="animate-spin" fill="#c1f861" stroke="#fff" stroke-width="0" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"></path></svg></div><p class="text-base-gray text-xs md:text-base mt-3 font-medium md:pl-2">Loading...</p></div></div>',1),Mt=[At],It={key:1,class:"flex-1 flex flex-col overflow-auto justify-between py-12 pt-4 px-4 sm:px-6 lg:flex-none lg:px-10 xl:px-24"},Vt={class:"flex-1 flex flex-col h-creen gap-6 md:gap-0 justify-center md:py-12 px-4 sm:px-6 md:h-full lg:flex-none lg:px-10 2xl:px-24"},qt={class:"mx-auto w-full"},Bt={key:0},Ot=t("h2",{class:"mt-6 text-2xl md:text-4xl font-bold text-base-black text-center mb-5"},"Your email verification token has expired",-1),Yt=[Ot],Gt={key:1},Jt=t("h2",{class:"mt-6 text-3xl md:text-4xl font-bold text-base-black text-center mb-5"},"Check Your Email ",-1),Kt={class:"text-sm font-normal text-[#666] text-center"},Qt={class:"mt-8 flex justify-center items-center flex-col"},Wt=["src"],Ht={key:0,class:"flex gap-2 items-center mt-4 mb-4"},Xt={key:1,class:"text-sm mt-6 font-medium mb-5"},Zt={class:""},$t={class:"w-full animate-fade-up animate-ease-in-out animate-delay-200"},ea=t("label",{htmlFor:"name",class:"block text-sm font-medium text-gray-700"}," Enter the code ",-1),ta={class:"mt-1"},aa={class:"animate-fade-up animate-ease-in-out animate-delay-200"},oa={key:0,class:"text-center mt-4 pb-5 flex justify-center gap-2 flex-col"},sa=t("p",{class:"text-xs font-normal text-[#666]"}," Didn’t receive the email? ",-1),la=t("p",{class:"text-xs font-normal text-[#666]"}," Please check your junk mail if you cannot find the code in your general inbox. ",-1),ra={class:"flex justify-center gap-4 items-center"};function ia(l,a,o,e,R,s){var m,d,c,u;return e.loading?(r(),n("div",Ut,Mt)):(r(),n("div",It,[t("div",Vt,[t("div",qt,[((m=e.route.query)==null?void 0:m.error)=="expired"?(r(),n("div",Bt,Yt)):(r(),n("div",Gt,[Jt,t("p",Kt,[S("We sent an email to "),t("strong",null,ee((d=e.form)==null?void 0:d.email),1),S(". Open the email to verify your email address. ")])])),t("div",Qt,[t("img",{src:e.bucket+"public/svg/login/verifiqueCard.svg",alt:""},null,8,Wt),((c=e.route.query)==null?void 0:c.error)=="expired"?(r(),n("div",Ht,[t("button",{onClick:a[0]||(a[0]=(...v)=>e.backError&&e.backError(...v)),class:"btn bg-primary mt-5"},"Go back"),t("button",{onClick:a[1]||(a[1]=(...v)=>e.sendResendEmail&&e.sendResendEmail(...v)),class:"btn bg-primary mt-5"},"Resend Email")])):(r(),n("p",Xt,"Click the link in your email to continue"))]),t("div",Zt,[t("div",$t,[ea,t("div",ta,[F(t("input",{name:"name",type:"text","onUpdate:modelValue":a[2]||(a[2]=v=>e.codeEmail=v),placeholder:"*******",class:N([e.errorCode?"border-error ":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.codeEmail]])])]),t("div",aa,[t("button",{class:"btn bg-primary w-full h-10 mt-2",onClick:a[3]||(a[3]=v=>e.verifiedCode())},"Send Code"),((u=e.route.query)==null?void 0:u.error)!=="expired"?(r(),n("div",oa,[sa,la,t("div",ra,[t("p",{onClick:a[4]||(a[4]=(...v)=>e.sendRecover&&e.sendRecover(...v)),class:"font-medium cursor-pointer text-xs underline text-base-black hover:text-indigo-500"}," Resend Email "),t("p",{class:"font-medium cursor-pointer text-xs underline text-base-black hover:text-indigo-500",onClick:a[5]||(a[5]=(...v)=>e.backStep&&e.backStep(...v))},"Change email ")])])):w("",!0)])])])])]))}const na=ae(Tt,[["render",ia]]),da={props:{next:{type:Function},back:{type:Function},backEmailToken:{type:Function},getDataRegister:{type:Object}},setup(l){let a=x();const o=x(),e=oe(),R=ie(),s=R.formAccount,m=R.formData,d=Be(),c=x(!1),u=R.formData,v=x(ce(()=>"https://s3.us-east-2.amazonaws.com/files.autosensei.ca/")),g=x(null),E=de(),j=x(""),h=ne(),i=x(!1),y=De(),L=Re(),z=x();x(null);const _=x(null),V=x(null);x(l.getDataRegister);const K=C=>{var D=C.target;(1024*1024*5).toFixed(2),D.files[0].size;let q=(D.files[0].size/(1024*1024)).toFixed(2);if(D.files)if(q>50)b("File too large: "+q+"Mb. Maximum size: 50 Mb",{type:"error"}),s.preview=null,s.img=null;else{var Y=new FileReader;Y.onload=$=>{s.preview=$.target.result},s.img=D.files[0],s.img.mb=q,Y.readAsDataURL(D.files[0])}},Q=C=>{var D=C.target;D.files[0].size;let q=(D.files[0].size/(1024*1024)).toFixed(2);if(D.files)if(q>50)b("File too large: "+q+"Mb. Maximum size: 5 Mb",{type:"error"}),s.previewDriverLicense=null,s.driverLicense=null;else{var Y=new FileReader;Y.onload=$=>{s.previewDriverLicense=$.target.result},s.driverLicense=D.files[0],s.driverLicense.mb=q,Y.readAsDataURL(D.files[0])}},W=()=>{l.back()},O=C=>{C.target.value=C.target.value.replace(/[^0-9]+/g,"");let D=C.target.value;s.phoneNumber=D},Z=async()=>{var C,D,q,Y,$,fe,pe,xe,ve,ge,he,be,ye,_e,we,ke,Ne,Ce,Se,Ee;if(o.value=Ye(s,a.value),Object.entries(o.value).length===0){V.value||(V.value=z.value.selectedCountryData.dialCode,_.value=`+${V.value+s.phoneNumber}`);let je={phone:_.value},B=null;i.value=!0,B={linea1:s.linea1,linea2:s.linea2,zipCode:s.zipCode,province:s.province,city:s.city};try{let re={token:g.value,rol:a.value,phone:_.value?_.value:null,picture:s.img?s.img:null,name:s.dealerName?s.dealerName:null,firstName:s.firtName?s.firtName:null,lastName:s.lastName?s.lastName:null,dealerFirsName:u.firtName,dealerLastName:u.lastName,omvic:s.registrationNumber?s.registrationNumber:null,address:B||null,driverLicense:s.driverLicense?s.driverLicense:null};if(R.getSendData=re,re.rol=="sellers"){if(i.value=!0,s.img||s.driverLicense){let T=s.img&&await L.uploaderFile({file:s.img,location:"profile"}),f=s.driverLicense&&await L.uploaderFile({file:s.driverLicense,location:"license"});if(T.data||f.data)try{let k={seller:{picture:T!=null&&T.data?T==null?void 0:T.data:null,firstName:s.firtName,lastName:s.lastName,driverLicense:f!=null&&f.data?f==null?void 0:f.data:null},phone:_.value},A={token:g.value,payloadData:k};try{let I=await y.userData(A);if(I){ue.defaults.headers.Authorization=`Bearer ${g.value}`;let G=await e.authProfile();if(G.statusText="OK"){let te=await dataLayer.push({event:"registrationComplete",formType:I.data});switch(G.data.type!==2&&localStorage.setItem("token",g.value),G.data.type!==2&&localStorage.removeItem("updateUser"),G.data.type!==2&&localStorage.setItem("rol",G.data.type),G.data.type){case 1:await h.push({path:"/all"});break;default:localStorage.clear(),await h.push({name:"home"});break}i.value=!1}}}catch(I){i.value=!1,b(((D=(C=I==null?void 0:I.response)==null?void 0:C.data)==null?void 0:D.message[0])||"error",{type:"error"})}}catch(k){b(((Y=(q=k==null?void 0:k.response)==null?void 0:q.data)==null?void 0:Y.message)||"error",{type:"error"}),i.value=!1}else i.value=!1,b("error",{type:"error"})}else try{let T={seller:{firstName:s.firtName,lastName:s.lastName},phone:_.value},f={token:g.value,payloadData:T};try{let k=await y.userData(f);if(k){ue.defaults.headers.Authorization=`Bearer ${g.value}`;let A=await e.authProfile();if(A.statusText="OK"){let I=await dataLayer.push({event:"registrationComplete",formType:k.data});switch(A.data.type!==2&&localStorage.setItem("token",g.value),A.data.type!==2&&localStorage.removeItem("updateUser"),A.data.type!==2&&localStorage.setItem("rol",A.data.type),A.data.type){case 1:await h.push({path:"/all"});break;default:localStorage.clear(),await h.push({name:"home"});break}i.value=!1}}}catch(k){i.value=!1,b(((fe=($=k==null?void 0:k.response)==null?void 0:$.data)==null?void 0:fe.message[0])||"error al cargar",{type:"error"})}}catch(T){((xe=(pe=T==null?void 0:T.response)==null?void 0:pe.data)==null?void 0:xe.message)=="Unauthorized"&&(b(((ge=(ve=T==null?void 0:T.response)==null?void 0:ve.data)==null?void 0:ge.message)||"error al cargar",{type:"error",autoClose:2e3}),l.backEmailToken()),i.value=!1}i.value=!1}else if((await y.getValidation(je)).data.status=="ok"){if(i.value=!0,s.img||s.driverLicense){let f=s.img&&await L.uploaderFile({file:s.img,location:"profile"}),k=s.driverLicense&&await L.uploaderFile({file:s.driverLicense,location:"license"});if(f.data||k.data)try{let A={seller:{picture:f!=null&&f.data?f==null?void 0:f.data:null,firstName:s.firtName,lastName:s.lastName,driverLicense:k!=null&&k.data?k==null?void 0:k.data:null}},I={dealer:{picture:f!=null&&f.data?f==null?void 0:f.data:null,name:s.dealerName?s.dealerName:null,omvic:s.registrationNumber?s.registrationNumber:null},address:{city:B.city,country:"Canada",line1:B.linea1,line2:B.linea2,postal_code:B.zipCode,state:B.province}};j.value=a.value=="sellers"?A:I;let G={token:g.value,payloadData:j.value};try{await y.userData(G)&&(l.next(),i.value=!1)}catch(te){i.value=!1,b(((be=(he=te==null?void 0:te.response)==null?void 0:he.data)==null?void 0:be.message[0])||"error",{type:"error"})}}catch(A){b(((_e=(ye=A==null?void 0:A.response)==null?void 0:ye.data)==null?void 0:_e.message)||"error",{type:"error"}),i.value=!1}else i.value=!1,b("error",{type:"error"})}else try{let f={seller:{firstName:s.firtName,lastName:s.lastName}},k={dealer:{name:s.dealerName?s.dealerName:null,omvic:s.registrationNumber?s.registrationNumber:null},address:{city:B.city,country:"Canada",line1:B.linea1,line2:B.linea2,postal_code:B.zipCode,state:B.province}};j.value=a.value=="sellers"?f:k;let A={token:g.value,payloadData:j.value};try{await y.userData(A)&&(l.next(),i.value=!1)}catch(I){i.value=!1,b(((ke=(we=I==null?void 0:I.response)==null?void 0:we.data)==null?void 0:ke.message[0])||"error al cargar",{type:"error"})}}catch(f){((Ce=(Ne=f==null?void 0:f.response)==null?void 0:Ne.data)==null?void 0:Ce.message)=="Unauthorized"&&(b(((Ee=(Se=f==null?void 0:f.response)==null?void 0:Se.data)==null?void 0:Ee.message)||"error al cargar",{type:"error",autoClose:2e3}),l.backEmailToken()),i.value=!1}i.value=!1}}catch(re){b(re.response.data.message,{type:"error",autoClose:2e3}),i.value=!1}}},P=async()=>{try{const C=await d.getCountry();s.getState=C.data}catch{}},M=async C=>{s.getCities=void 0,s.city=void 0;let D=JSON.parse(C.target.value);c.value=!0;try{const q=await d.getCountryCities(D.iso2);s.getCities=q.data}catch{c.value=!1}finally{c.value=!1}},p=async C=>{JSON.parse(C.target.value)};return Fe(()=>{a.value=E.params.rol}),se(()=>{s.phoneNumber=void 0,z.value=void 0,V.value=void 0,_.value=void 0;let C;P(),a.value=E.params.rol,g.value=localStorage.getItem("updateUser"),C=document.getElementById("telephone"),z.value=qe(C,{preferredCountries:["ca","in","us"]}),C.addEventListener("countrychange",function(D){})}),{nextStep:Z,backStep:W,previewImage:K,previewLicense:Q,form:s,invalid:o,rol:a,isLoading:i,filterinput:O,codePhone:_,loadingCountrys:c,formData:m,onChangeGetProvince:M,onChangeGetCity:p,bucket:v}}},ca={key:0,class:"h-screen-login-loading w-full h-full flex justify-center items-center"},ma={class:"h-12 w-12 md:h-[80px] relative md:w-[80px]"},ua=t("div",{class:"animate-bounce"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"animate-spin",fill:"#c1f861",stroke:"#fff","stroke-width":"0",viewBox:"0 0 16 16"},[t("path",{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"})])],-1),fa={key:0,class:"absolute md:-left-[100%] -left-[127%] mt-3 md:pl-2"},pa=t("p",{class:"text-xs md:text-base font-medium text-base-gray whitespace-pre"},"Sending code to your phone...",-1),xa=[pa],va={key:1,class:"text-base-gray text-xs md:text-base mt-3 font-medium md:pl-2"},ga={key:1,class:"flex-1 flex flex-col h-auto justify-between py-12 px-4 sm:px-6 lg:flex-none lg:mx-20 2xl:mx-32 2xl:my-0"},ha={class:"flex-1 flex flex-col justify-center md:p-0 md:mb-10 md:mx-4 sm:px-6 h-full lg:flex-none"},ba={class:"mx-auto w-full"},ya={class:"mt-6 text-3xl md:text-4xl font-bold text-base-black text-center md:mb-5"},_a={key:0},wa={key:1},ka=t("p",{class:"text-xs md:text-sm font-normal text-[#666] text-center"},"Auction your car to dealers right from your home.",-1),Na={class:"mt-8"},Ca={class:"mt-6"},Sa={class:"space-y-6"},Ea={class:"text-sm font-medium capitalize"},La={key:0},Fa={key:1},za={class:"flex !mt-2 gap-2 md:gap-6"},Da=["src"],Ra=["src"],ja={key:0,class:"flex gap-1 items-center"},Pa={class:"text-xs font-medium text-[#666] truncate"},Ta=t("strong",{class:"text-[15]"},"Size:",-1),Ua={class:"text-xs w-[90px] font-medium md:w-[150px] text-[#666] truncate"},Aa=t("strong",{class:"text-[15]"},"Name:",-1),Ma={key:1,class:"text-xs font-medium text-[#666]"},Ia={key:0},Va=t("label",{htmlFor:"dealerName",class:"block text-sm font-medium text-gray-700"}," Dealer Name ",-1),qa={class:"mt-1"},Ba={key:1},Oa=t("label",{htmlFor:"registrationNumber",class:"block text-sm font-medium text-gray-700"}," OMVIC Registration Number ",-1),Ya={class:"mt-1"},Ga={key:2},Ja=t("div",{class:"space-y-1"},[t("p",{class:"block text-sm font-medium text-gray-700"}," Address ")],-1),Ka={class:"grid grid-cols-1 gap-4 md:grid-cols-3 mt-2"},Qa={class:"space-y-1"},Wa=t("label",{htmlFor:"password",class:"block text-sm font-medium text-gray-700"}," Line 1 ",-1),Ha={class:"mt-1"},Xa={class:"space-y-1"},Za=t("label",{htmlFor:"password",class:"block text-sm font-medium text-gray-700"}," Line 2 ",-1),$a={class:"mt-1"},eo={class:"space-y-1"},to=t("label",{htmlFor:"password",class:"block text-sm font-medium text-gray-700"}," Postal Code ",-1),ao={class:"mt-1"},oo={key:3,class:"flex items-center gap-3"},so={class:"w-full flex flex-col gap-2 relative"},lo=t("label",{class:"text-sm md:text-base",for:""},"Province",-1),ro={class:"w-full flex flex-col gap-2 relative"},io=t("label",{class:"text-sm md:text-base",for:""},"City",-1),no={key:4,class:"flex flex-col md:flex-row gap-6 justify-between items-center"},co={class:"w-full animate-fade-up animate-ease-in-out animate-delay-200"},mo=t("label",{htmlFor:"name",class:"block text-sm font-medium text-gray-700"}," Legal First Name* ",-1),uo={class:"mt-1"},fo={class:"w-full animate-fade-up animate-ease-in-out animate-delay-200"},po=t("label",{htmlFor:"lastName",class:"block text-sm font-medium text-gray-700"}," Legal Last Name* ",-1),xo={class:"mt-1"},vo={class:"space-y-1 custom-phone"},go=t("label",{htmlFor:"phoneNumber",class:"block text-sm font-medium text-gray-700"}," Phone Number ",-1),ho={class:"flex w-full justify-start dark:bg-gray-950 animate-fade-up animate-ease-in-out animate-delay-800"},bo={class:"flex justify-between items-start gap-2"},yo={class:"relative flex cursor-pointer items-center mb-1 rounded-md"},_o=t("div",{class:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),wo={class:"flex flex-col -mt-1 relative"},ko=t("p",{class:"!text-sm font-medium text-gray-700"},"I hearby sign up to receive text alerts from Autosensei. I understand that standard message & data rates apply. You may reply STOP to cancel ",-1),No={key:0,class:"text-xs text-error absolute whitespace-pre -bottom-[100%] font-medium text-gray-700"};function Co(l,a,o,e,R,s){var m,d,c,u,v,g,E,j,h,i,y,L,z,_,V,K,Q,W,O,Z,P,M;return e.isLoading?(r(),n("div",ca,[t("div",null,[t("div",ma,[ua,e.codePhone&&e.rol!=="sellers"?(r(),n("div",fa,xa)):(r(),n("p",va,"Loading..."))])])])):(r(),n("div",ga,[t("div",ha,[t("div",ba,[t("div",null,[t("h2",ya,[S("Create Your "),e.rol=="dealers"?(r(),n("span",_a," Dealer")):w("",!0),S(),e.rol=="sellers"?(r(),n("span",wa," Sellers")):w("",!0),S(" Account ")]),ka]),t("div",Na,[t("div",Ca,[t("div",Sa,[t("p",Ea,[e.rol==="sellers"?(r(),n("span",La,"Seller")):(r(),n("span",Fa,"Dealer")),S(" Photo ")]),t("div",za,[(m=e.form)!=null&&m.preview?(r(),n("img",{key:0,class:"w-[80px] h-[80px] rounded-full object-cover",src:(d=e.form)==null?void 0:d.preview,alt:""},null,8,Da)):(r(),n("img",{key:1,src:e.bucket+"public/svg/login/uploadImage.svg",alt:""},null,8,Ra)),t("div",null,[(u=(c=e.form)==null?void 0:c.img)!=null&&u.name?(r(),n("div",ja,[t("p",Pa,[Ta,S(" "+ee((g=(v=e.form)==null?void 0:v.img)==null?void 0:g.mb)+"Mb - ",1)]),t("p",Ua,[Aa,S(" "+ee((j=(E=e.form)==null?void 0:E.img)==null?void 0:j.name),1)])])):(r(),n("p",Ma,"JPG, GIF or PNG. Max size of 50Mb ")),t("label",{class:N([(h=e.invalid)!=null&&h.img?"bg-error":"bg-[#F0F0F0]","flex flex-col items-center mt-4 px-2 py-2 rounded-lg shadow-lg tracking-wide cursor-pointer"])},[t("span",{class:N([(i=e.invalid)!=null&&i.img?"text-white":"text-base-black","text-sm font-medium leading-normal"])},"Upload Profile",2),t("input",{type:"file",accept:"image/*",onChange:a[0]||(a[0]=(...p)=>e.previewImage&&e.previewImage(...p)),class:"hidden"},null,32)],2)])]),e.rol==="dealers"?(r(),n("div",Ia,[Va,t("div",qa,[F(t("input",{name:"dealerName",type:"text","onUpdate:modelValue":a[1]||(a[1]=p=>e.form.dealerName=p),placeholder:"Car Garage Co",class:N([(y=e.invalid)!=null&&y.dealerName?"border-error":"border-[#F0F0F0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.dealerName]])])])):w("",!0),e.rol==="dealers"?(r(),n("div",Ba,[Oa,t("div",Ya,[F(t("input",{name:"registrationNumber","onUpdate:modelValue":a[2]||(a[2]=p=>e.form.registrationNumber=p),type:"text",placeholder:"1234567890",class:N([(L=e.invalid)!=null&&L.registrationNumber?"border-error":"border-[#F0F0F0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.registrationNumber]])])])):w("",!0),e.rol==="dealers"?(r(),n("div",Ga,[Ja,t("div",Ka,[t("div",Qa,[Wa,t("div",Ha,[F(t("input",{name:"address","onUpdate:modelValue":a[3]||(a[3]=p=>e.form.linea1=p),type:"text",placeholder:"Street address or P.O. Box",class:N([(z=e.invalid)!=null&&z.linea1?"border-error":"border-[#F0F0F0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.linea1]])])]),t("div",Xa,[Za,t("div",$a,[F(t("input",{name:"address","onUpdate:modelValue":a[4]||(a[4]=p=>e.form.linea2=p),type:"text",placeholder:"Apt, suite, unit, building, floor, etc.",class:N([(_=e.invalid)!=null&&_.linea2?"border-error":"border-[#F0F0F0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.linea2]])])]),t("div",eo,[to,t("div",ao,[F(t("input",{name:"postalCode","onUpdate:modelValue":a[5]||(a[5]=p=>e.form.zipCode=p),type:"text",placeholder:"587469",class:N([(V=e.invalid)!=null&&V.zipCode?"border-error":"border-[#F0F0F0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.zipCode]])])])])])):w("",!0),e.rol==="dealers"?(r(),n("div",oo,[t("div",so,[lo,F(t("input",{"onUpdate:modelValue":a[6]||(a[6]=p=>e.form.province=p),class:N([(K=e.invalid)!=null&&K.province?"border-error":"border-[#E0E0E0]","p-2 rounded-lg border"]),type:"text"},null,2),[[U,e.form.province]])]),t("div",ro,[io,F(t("input",{"onUpdate:modelValue":a[7]||(a[7]=p=>e.form.city=p),class:N([(Q=e.invalid)!=null&&Q.city?"border-error":"border-[#E0E0E0]","p-2 rounded-lg border"]),type:"text"},null,2),[[U,e.form.city]])])])):w("",!0),e.rol=="sellers"?(r(),n("div",no,[t("div",co,[mo,t("div",uo,[F(t("input",{name:"name",type:"text","onUpdate:modelValue":a[8]||(a[8]=p=>e.form.firtName=p),placeholder:"Alex",class:N([(W=e.invalid)!=null&&W.firtName?"border-error ":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.firtName]])])]),t("div",fo,[po,t("div",xo,[F(t("input",{name:"lastName",type:"text","onUpdate:modelValue":a[9]||(a[9]=p=>e.form.lastName=p),placeholder:"Turner",class:N([(O=e.invalid)!=null&&O.lastName?"border-error":"border-[#E0E0E0]","appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"])},null,2),[[U,e.form.lastName]])])])])):w("",!0),t("div",vo,[go,F(t("input",{class:N([(Z=e.invalid)!=null&&Z.phoneNumber?" !border !border-error":"","border rounded-md h-[48px] w-full"]),type:"tel",onInput:a[10]||(a[10]=(...p)=>e.filterinput&&e.filterinput(...p)),"onUpdate:modelValue":a[11]||(a[11]=p=>e.form.phoneNumber=p),id:"telephone"},null,34),[[U,e.form.phoneNumber]])]),t("div",ho,[t("div",bo,[t("label",yo,[F(t("input",{type:"checkbox","onUpdate:modelValue":a[12]||(a[12]=p=>e.form.termsconditions=p),class:N([e.form.termsconditions?"bg-base-black":"bg-white","peer cursor-pointer appearance-none relative h-4 w-4 dark:bg-gray-100/25 border border-gray-900 dark:border-gray-100 transition-all checked:border-blue-500 checked:bg-blue-500 rounded-md"])},null,2),[[ze,e.form.termsconditions]]),_o]),t("div",wo,[ko,(P=e.invalid)!=null&&P.termsconditions?(r(),n("p",No,ee((M=e.invalid)==null?void 0:M.termsconditions),1)):w("",!0)])])]),t("div",null,[t("button",{onClick:a[13]||(a[13]=(...p)=>e.nextStep&&e.nextStep(...p)),id:"continueAccount",class:"w-full btn flex justify-center bg-primary py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-base-black bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Continue ")])])])])])])]))}const So=ae(da,[["render",Co]]),Eo={props:{next:{type:Function},back:{type:Function}},setup(l){const a=ie(),o=a.getSendData,e=a.formData,R=De(),s=oe(),m=x({code:""}),d=de();x(ce(()=>d.name));const c=ne(),u=x(!1);Re();const v=x(null);x(l.getDataRegister);const g=x(!1),E=async()=>{var y,L,z,_,V,K,Q,W;if(!m.value.code){b("Campo Obligarotio",{type:"error"});return}u.value=!0;try{let O={phone:o.phone,validationCode:m.value.code},Z={token:o.token,payloadData:O};try{let P=await R.userData(Z);if(P){ue.defaults.headers.Authorization=`Bearer ${o.token}`;let M=await s.authProfile();if(M.statusText="OK"){let p=await dataLayer.push({event:"registrationComplete",formType:P.data});switch(M.data.type!==2&&localStorage.setItem("token",o.token),M.data.type!==2&&localStorage.removeItem("updateUser"),M.data.type!==2&&localStorage.setItem("rol",M.data.type),M.data.type){case 0:await c.push({path:"/inicio"});break;case 1:await c.push({path:"/all"});break;case 2:localStorage.clear(),g.value=!0;break;default:await c.push({name:"home"});break}e.name="",e.firtName="",e.lastName="",e.email="",e.password="",e.confirmPassword="",e.termsconditions=null,o.img="",o.dealerName="",o.registrationNumber="",o.address="",o.linea1="",o.linea2="",o.zipCode="",o.province=null,o.getState=null,o.city=null,o.getCities=null,o.phoneNumber="",o.preview="",o.firtName="",o.lastName="",o.driverLicense="",o.numberCode="",o.previewDriverLicense="",u.value=!1}}}catch(P){u.value=!1;let M=(L=(y=P==null?void 0:P.response)==null?void 0:y.data)==null?void 0:L.message[0];typeof((_=(z=P==null?void 0:P.response)==null?void 0:z.data)==null?void 0:_.message)=="string"&&(M=(K=(V=P==null?void 0:P.response)==null?void 0:V.data)==null?void 0:K.message),b(M||"error al cargar",{type:"error"})}}catch(O){b(((W=(Q=O==null?void 0:O.response)==null?void 0:Q.data)==null?void 0:W.message)||"error al cargar",{type:"error"}),u.value=!1}},j=async()=>{l.back()},h=async()=>{var y,L;if(o.phone){u.value=!0;let z={phone:o==null?void 0:o.phone};try{await R.getValidation(z)&&(b("Code succesfully resent",{type:"success"}),u.value=!1)}catch(_){b(((L=(y=_==null?void 0:_.response)==null?void 0:y.data)==null?void 0:L.message)||"error",{type:"error"})}}},i=async()=>{await c.push({path:"/login/dealers"}),g.value=!1};return se(()=>{v.value=localStorage.getItem("updateUser")}),{nextStep:E,backStep:h,form:m,loading:u,formdata:o,refirectToLogin:i,showSuccessRegister:g,backCode:j}}},Lo={key:0,class:"h-screen-login-loading w-full h-full flex justify-center items-center"},Fo=le('<div><div class="h-12 w-12 md:h-[80px] md:w-[80px]"><div class="animate-bounce"><svg xmlns="http://www.w3.org/2000/svg" class="animate-spin" fill="#c1f861" stroke="#fff" stroke-width="0" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"></path></svg></div><p class="text-base-gray text-xs md:text-base mt-3 font-medium md:pl-2">Loading...</p></div></div>',1),zo=[Fo],Do={key:0,class:"w-full h-full overflow-hidden relative"},Ro={class:"h-full w-full md:w-[60%] mx-auto flex justify-center flex-col items-center p-5"},jo={class:"bg-white h-fit flex flex-col gap-2 md:gap-6 items-center justify-center shadow-lg rounded-lg p-4"},Po=le('<div class="check-container"><div class="check-background"><svg viewBox="0 0 65 51" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 25L27.3077 44L58.5 7" stroke="white" stroke-width="13" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="check-shadow"></div></div><div><p class="text-center text-sm md:text-2xl font-medium">Your account have been successfully created.</p><p class="text-center text-xs md:text-base">Our administrators will validate your info and activate your account. This process may take a few moments.</p></div>',2),To=t("ul",{class:"bg-bubbles"},[t("li"),t("li"),t("li"),t("li"),t("li"),t("li"),t("li"),t("li"),t("li"),t("li")],-1),Uo={key:1,class:"flex-1 flex flex-col justify-center md:py-12 px-4 sm:px-6 h-full lg:flex-none xl:px-24"},Ao={class:"mx-auto w-full"},Mo=t("h2",{class:"mt-6 text-3xl md:text-4xl font-bold text-base-black text-center mb-5"}," Enter Verification Code",-1),Io={class:"text-sm font-normal text-[#666] text-center"},Vo={class:"mt-8"},qo={class:"mt-6"},Bo={class:"space-y-7"},Oo=t("label",{htmlFor:"email",class:"block text-sm font-medium text-gray-700"}," Code ",-1),Yo={class:"mt-1"},Go={class:"text-center mt-5 flex justify-center gap-2 md:flex-col"},Jo=t("p",{class:"text-xs font-normal text-[#666]"}," Didn’t receive the code? ",-1),Ko={class:"flex justify-center items-center gap-3"};function Qo(l,a,o,e,R,s){var m;return e.loading?(r(),n("div",Lo,zo)):(r(),n("div",{key:1,class:N([e.showSuccessRegister?"!p-0":"","flex-1 flex flex-col justify-between py-12 px-4 sm:px-6 h-full lg:flex-none lg:px-20 xl:px-24"])},[e.showSuccessRegister?(r(),n("div",Do,[t("div",Ro,[t("div",jo,[Po,t("div",null,[t("button",{onClick:a[0]||(a[0]=(...d)=>e.refirectToLogin&&e.refirectToLogin(...d)),class:"btn bg-primary",to:"/login/dealers"},"Login")])])]),To])):(r(),n("div",Uo,[t("div",Ao,[t("div",null,[Mo,t("p",Io,[S("A text message with a 6-digit code has been sent to "),t("strong",null,ee((m=e.formdata)==null?void 0:m.phone),1)])]),t("div",Vo,[t("div",qo,[t("div",Bo,[t("div",null,[Oo,t("div",Yo,[F(t("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>e.form.code=d),type:"text",placeholder:"Enter the 6-digit code",class:"appearance-none block w-full px-3 py-2 border border-[#E0E0E0] rounded-md shadow-sm placeholder-[#858585] focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[U,e.form.code]])])]),t("div",null,[t("button",{onClick:a[2]||(a[2]=(...d)=>e.nextStep&&e.nextStep(...d)),id:"continueAccount",class:"w-full btn flex justify-center bg-primary py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-base-black bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Continue ")])])]),t("div",Go,[Jo,t("div",Ko,[t("p",{onClick:a[3]||(a[3]=(...d)=>e.backStep&&e.backStep(...d)),class:"font-medium cursor-pointer text-xs underline text-base-black hover:text-indigo-500"}," Resend Code "),t("p",{class:"font-medium cursor-pointer text-xs underline text-base-black hover:text-indigo-500",onClick:a[4]||(a[4]=(...d)=>e.backCode&&e.backCode(...d))}," Change Phone ")])])])])]))],2))}const Wo=ae(Eo,[["render",Qo]]);const Ho={components:{Swiper:Pe,SwiperSlide:Te,CreateAccount:Pt,CheckYourEmail:na,InfoAccount:So,VerificationCode:Wo},setup(l){const a=x(null),o=de(),e=ne(),R=oe(),s=x(ce(()=>"https://s3.us-east-2.amazonaws.com/files.autosensei.ca/")),m=x(!1);let d=x(),c=x(0);function u(i){a.value=i}function v(){a.value.slideNext(),c.value=a.value.activeIndex}function g(){a.value.slidePrev(),c.value=a.value.activeIndex}const E=async i=>{var y,L,z;m.value=!0;try{(await R.authProfile(i)).status==200&&(c.value=1,(y=a.value)==null||y.slideTo(1),b("Your email has been verified successfully",{type:"success",autoClose:3e3}),localStorage.setItem("updateUser",o.query.token),e.replace({query:""}),setTimeout(()=>{var V;c.value=2,(V=a.value)==null||V.slideTo(2),m.value=!1},3e3))}catch(_){((z=(L=_==null?void 0:_.response)==null?void 0:L.data)==null?void 0:z.message)=="Unauthorized"&&(b("Your email verification token has expired",{type:"error",autoClose:2e3}),m.value=!1,c.value=1,a.value.slideTo(1),e.replace({query:{error:"expired"}}))}},j=()=>{var i;c.value=0,(i=a.value)==null||i.slideTo(0),e.replace({query:""})},h=()=>{c.value=1,a.value.slideTo(1),e.replace({query:{error:"expired"}})};return se(()=>{var i;a.value.allowTouchMove=!1,d.value=o.params.rol,o.query.token?E(o.query):(c.value=0,(i=a.value)==null||i.slideTo(0),e.replace({query:""}))}),{getRef:u,next:v,back:g,Pagination:{clickable:!0,renderBullet:function(i,y){return'<div class="'+y+'">'+(i+1)+"</div>"}},modules:[Ue,Ae,Me,Ie],rol:d,stepsCurrent:c,loading:m,gobackError:j,backEmailToken:h,bucket:s}}},Xo={class:"main-login"},Zo={key:0,class:"h-screen-login-loading left-0 top-0 md:w-[50%] h-full flex justify-center items-center"},$o=le('<div><div class="h-12 w-12 md:h-[80px] md:w-[80px]"><div class="animate-bounce"><svg xmlns="http://www.w3.org/2000/svg" class="animate-spin" fill="#c1f861" stroke="#fff" stroke-width="0" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 4c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4zM12.773 12.773c-1.275 1.275-2.97 1.977-4.773 1.977s-3.498-0.702-4.773-1.977-1.977-2.97-1.977-4.773c0-1.803 0.702-3.498 1.977-4.773l1.061 1.061c0 0 0 0 0 0-2.047 2.047-2.047 5.378 0 7.425 0.992 0.992 2.31 1.538 3.712 1.538s2.721-0.546 3.712-1.538c2.047-2.047 2.047-5.378 0-7.425l1.061-1.061c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773z"></path></svg></div><p class="text-base-gray text-xs md:text-base mt-3 font-medium md:pl-2">Loading...</p></div></div>',1),es=[$o],ts={key:0,class:"h-full flex justify-start items-start flex-col gap-5"},as=t("h1",{class:"p-5 pb-0 !md:p-0 text-4xl md:text-5xl text-blue-dark font-bold"},[S("Boost Your Inventory "),t("br"),S(" Organically")],-1),os=t("p",{class:"p-5 pt-0 !md:p-0 md:w-[70%]"},"Dealers are able to increase their inventory without having to go to their local auctions, or online auctions bidding on vehicles that dealers don’t want to sell themselves. Get the best vehicles with a simple application.",-1),ss=["src"],ls={key:1,class:"h-full flex justify-start items-start flex-col gap-5"},rs=t("h1",{class:"p-5 pb-0 !md:p-0 text-4xl md:text-5xl text-blue-dark font-bold"},"Elevate Your Car Selling Journey with AutoSensei",-1),is=t("p",{class:"p-5 pt-0 !md:p-0 md:w-[70%]"},"AutoSensei revolutionizes the way you sell your vehicle, offering a seamless and efficient process. Maximize the value of your car by inviting competitive bids from local dealerships. ",-1),ns=["src"],ds=["src"];function cs(l,a,o,e,R,s){const m=H("CreateAccount"),d=H("swiper-slide"),c=H("CheckYourEmail"),u=H("InfoAccount"),v=H("VerificationCode"),g=H("swiper");return r(),n("div",Xo,[e.loading?(r(),n("div",Zo,es)):w("",!0),F(me(g,{onSwiper:e.getRef,pagination:{type:"bullets"},simulateTouch:!1,modules:e.modules,class:"stepsSwiper w-full custom-line-swiper lg:w-2/4"},{default:X(()=>[e.loading?w("",!0):(r(),J(d,{key:0,class:"!overflow-auto"},{default:X(()=>[e.stepsCurrent==0?(r(),J(m,{key:0,back:e.back,next:e.next,rol:e.rol},null,8,["back","next","rol"])):w("",!0)]),_:1})),e.loading?w("",!0):(r(),J(d,{key:1,class:"!overflow-auto"},{default:X(()=>[e.stepsCurrent==1?(r(),J(c,{key:0,back:e.back,next:e.next,gobackError:e.gobackError,rol:e.rol},null,8,["back","next","gobackError","rol"])):w("",!0)]),_:1})),e.loading?w("",!0):(r(),J(d,{key:2,class:"!overflow-auto"},{default:X(()=>[e.stepsCurrent==2?(r(),J(u,{key:0,back:e.back,next:e.next,backEmailToken:e.backEmailToken,rol:e.rol},null,8,["back","next","backEmailToken","rol"])):w("",!0)]),_:1})),e.loading?w("",!0):(r(),J(d,{key:3,class:"!overflow-auto"},{default:X(()=>[e.stepsCurrent==3?(r(),J(v,{key:0,back:e.back,next:e.next,backEmailToken:e.backEmailToken,rol:e.rol},null,8,["back","next","backEmailToken","rol"])):w("",!0)]),_:1}))]),_:1},8,["onSwiper","modules"]),[[Ve,!e.loading]]),t("div",{class:N([e.rol=="dealers"?"bg-yellow-light":"bg-primary","hidden lg:block md:w-1/2 md:px-16 md:py-12 relative"])},[e.rol=="dealers"?(r(),n("div",ts,[as,os,t("img",{class:"h-[50vh] block md:hidden w-full object-cover",src:e.bucket+"public/svg/vehiculosLogin.svg",alt:""},null,8,ss)])):(r(),n("div",ls,[rs,is,t("img",{class:"h-[50vh] block md:hidden w-full object-cover",src:e.bucket+"public/svg/vehiculosLogin.svg",alt:""},null,8,ns)])),t("img",{class:"h-auto hidden md:block absolute bottom-0 left-0 w-full object-cover",src:e.bucket+"public/svg/vehiculosLogin.svg",alt:""},null,8,ds)],2)])}const ys=ae(Ho,[["render",cs]]);export{ys as default};
